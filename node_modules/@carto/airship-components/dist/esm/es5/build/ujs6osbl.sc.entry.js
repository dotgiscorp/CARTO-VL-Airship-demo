import{h}from"../airship.core.js";import{a as borderStyleCounts}from"./chunk-512e386e.js";var MIN_WIDTH=16,LegendColorCategory=function(){function e(){}return e.prototype.render=function(){var e=this;if(!this.data||0===this.data.length)return null;var t={"as-legend-category--wrapper":!0,"as-legend-category--wrapper-horizontal":"horizontal"===this.orientation};return h("div",{style:this.getStyle(),class:t},this.data.map(function(t){return e.renderLegend(t)}).filter(function(e){return null!==e}).map(function(e){return h("div",{class:"as-legend-category--entry"},e)}))},e.prototype.renderLegend=function(e){switch(e.type){case"point":return h("as-legend-category-point-entry",{label:e.label,width:this.width||e.width,color:e.color,strokeColor:e.strokeColor,marker:e.marker,strokeStyle:e.strokeStyle});case"line":return h("as-legend-category-line-entry",{label:e.label,width:e.width,color:e.color,strokeStyle:e.strokeStyle});case"polygon":return h("as-legend-category-polygon-entry",{label:e.label,color:e.color,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle});default:return null}},e.prototype.getStyle=function(){var e=this.data.slice().sort(function(e,t){return t.width-e.width})[0].width;return{"--as--basic--legend--figure-width":(this.width||Math.max(e,MIN_WIDTH))+"px"}},Object.defineProperty(e,"is",{get:function(){return"as-legend-category"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{data:{type:"Any",attr:"data"},orientation:{type:String,attr:"orientation"},width:{type:Number,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"as-legend-category{--as--basic--legend--font:var(--as--font--caption);--as--basic--legend--text-transform:capitalize;display:block}as-legend-category .as-legend-category--wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap}as-legend-category .as-legend-category--label{font:var(--as--basic--legend--font);text-transform:var(--as--basic--legend--text-transform)}as-legend-category .as-legend-category--figure--wrapper{width:var(--as--basic--legend--figure-width);margin-right:8px}as-legend-category .as-legend-category--wrapper-horizontal>.as-legend-category--entry{margin-right:12px}as-legend-category .as-legend-category--wrapper:not(.as-legend-category--wrapper-horizontal)>.as-legend-category--entry:not(:first-child){margin-top:12px}as-legend-category .as-legend-category--wrapper-horizontal{-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}"},enumerable:!0,configurable:!0}),e}(),MAX_WIDTH=16,LegendCategoryLineEntry=function(){function e(){this.strokeStyle="solid",this.width=1.5}return e.prototype.componentWillLoad=function(){this._widthChanged(this.width)},e.prototype.render=function(){return h("div",{class:"as-legend-category-line-entry--wrapper"},h("div",{class:"as-legend-category--figure--wrapper"},h("div",{class:"as-legend-category-line-entry--line",style:this.getStyle()})),h("span",{class:"as-legend-category--label"},this.label))},e.prototype._widthChanged=function(e){this._width=Math.min(MAX_WIDTH,e)},e.prototype.getStyle=function(){return{borderTopColor:this.color,borderTopStyle:this.strokeStyle,borderTopWidth:""+this._width}},Object.defineProperty(e,"is",{get:function(){return"as-legend-category-line-entry"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{_width:{state:!0},color:{type:String,attr:"color"},label:{type:String,attr:"label"},strokeStyle:{type:String,attr:"stroke-style"},width:{type:Number,attr:"width",watchCallbacks:["_widthChanged"]}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"as-legend-category-line-entry .as-legend-category-line-entry--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-category-line-entry .as-legend-category-line-entry--line{width:16px;height:0;margin:auto}"},enumerable:!0,configurable:!0}),e}(),FAKE_BORDER_SIZE=1,DEFAULT_WIDTH=16,SYMBOL_OFFSET=2,LegendCategoryPointEntry=function(){function e(){this.width=DEFAULT_WIDTH}return e.prototype.render=function(){return h("div",{class:"as-legend-category-point-entry--wrapper"},h("div",{class:"as-legend-category--figure--wrapper"},h("div",{class:{"as-legend-category-point-entry--point":!this.marker,"as-legend-category-point-entry--symbol":!0},style:this.getStyle()})),h("span",{class:"as-legend-category--label"},this.label))},e.prototype.getStyle=function(){return Object.assign({backgroundColor:this.color,border:FAKE_BORDER_SIZE+"px "+(this.strokeStyle||"solid")+" "+this.strokeColor},this.getWidth(),this.getMask())},e.prototype.getWidth=function(){if(!this.width)return{};var e=borderStyleCounts(this.strokeStyle)?2*FAKE_BORDER_SIZE:0;return this.marker&&(e+=SYMBOL_OFFSET),{height:this.width+e+"px",width:this.width+e+"px"}},e.prototype.getMask=function(){return this.marker?{"-webkit-mask-image":"url("+this.marker+")","-webkit-mask-position":"center","-webkit-mask-repeat":"no-repeat","-webkit-mask-size":this.width+"px",maskImage:"url("+this.marker+")",maskPosition:"center",maskRepeat:"no-repeat",maskSize:this.width+"px"}:{}},Object.defineProperty(e,"is",{get:function(){return"as-legend-category-point-entry"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{color:{type:String,attr:"color"},label:{type:String,attr:"label"},marker:{type:String,attr:"marker"},strokeColor:{type:String,attr:"stroke-color"},strokeStyle:{type:String,attr:"stroke-style"},width:{type:Number,attr:"width"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"as-legend-category-point-entry .as-legend-category-point-entry--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-category-point-entry .as-legend-category-point-entry--symbol{width:100%;height:auto;margin:auto}as-legend-category-point-entry .as-legend-category-point-entry--point{border-radius:50%}"},enumerable:!0,configurable:!0}),e}(),LegendColorCategoryPolygonEntry=function(){function e(){}return e.prototype.render=function(){return h("div",{class:"as-legend-category-polygon-entry--wrapper"},h("div",{class:"as-legend-category--figure--wrapper"},h("div",{class:"as-legend-category-polygon-entry--box",style:this.getStyle()})),h("span",{class:"as-legend-category--label"},this.label))},e.prototype.getStyle=function(){return{backgroundColor:this.color,border:"1px "+(this.strokeStyle||"solid")+" "+this.strokeColor}},Object.defineProperty(e,"is",{get:function(){return"as-legend-category-polygon-entry"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{color:{type:String,attr:"color"},label:{type:String,attr:"label"},strokeColor:{type:String,attr:"stroke-color"},strokeStyle:{type:String,attr:"stroke-style"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"as-legend-category-polygon-entry .as-legend-category-polygon-entry--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-category-polygon-entry .as-legend-category-polygon-entry--box{width:16px;height:12px;margin:auto}"},enumerable:!0,configurable:!0}),e}();export{LegendColorCategory as AsLegendCategory,LegendCategoryLineEntry as AsLegendCategoryLineEntry,LegendCategoryPointEntry as AsLegendCategoryPointEntry,LegendColorCategoryPolygonEntry as AsLegendCategoryPolygonEntry};