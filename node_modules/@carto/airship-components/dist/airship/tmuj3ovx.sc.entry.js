const t=window.airship.h;import{a as e}from"./chunk-512e386e.js";class i{constructor(){this.orientation="vertical",this.scale=1}render(){return this.data&&0!==this.data.length?t("div",{class:{"as-legend-size-continuous--overflow":"line"===this.data[0].type}},this.renderLegend(this.data)):null}renderLegend(e){switch(e[0].type){case"point":return t("as-legend-size-continuous-point",{data:this.data,orientation:this.orientation,scale:this.scale});case"line":return t("as-legend-size-continuous-line",{data:this.data,orientation:this.orientation});default:return null}}static get is(){return"as-legend-size-continuous"}static get properties(){return{data:{type:"Any",attr:"data"},orientation:{type:String,attr:"orientation"},scale:{type:Number,attr:"scale"}}}static get style(){return"as-legend-size-continuous{display:block}as-legend-size-continuous .as-legend-size-continuous--overflow{overflow:hidden}"}}const s=4,n=4;class a{constructor(){this.data=null,this.orientation="vertical",this.size=300,this.leadingLineStrokeWidth=.5,this.textLineHeight=12,this.xMarginFactor=.1,this.yMarginFactor=.1,this.width=null,this.rSize=0}componentWillUpdate(){this.parseSize()}componentWillLoad(){this.parseSize()}render(){if(!this.data||0===this.data.length)return;const e=this.getSortedData(),i=e[0].width,a=i/2,r=Math.max(i+n,this.width),o="horizontal"===this.orientation||null===this.width?0:(this.width-i)/2,h=[],l=[];return e.forEach((t,s)=>{const n=a*(t.width/i),d=s/(e.length-1),c=a+n,u=a-n,g=this.size-this.size*d,p="vertical"===this.orientation?[u+o,g]:[g+o,u];if(h.splice(s,0,`L${("vertical"===this.orientation?[c+o,g]:[g+o,c]).join(" ")}`),h.splice(h.length-s,0,`L${p.join(" ")}`),t.label){const i=this.getOffset(s,e.length-1),h=this.size-this.size*d+i,c=[a+n,h],u=[r,h];"horizontal"===this.orientation&&(c.reverse(),u.reverse()),c[0]+=o,u[0]+=o,l.push({label:t.label,x1:c[0],x2:u[0],y1:c[1],y2:u[1]})}}),h.splice(0,0,"horizontal"===this.orientation?`M${this.size} 0`:`M0 ${this.size}`),t("svg",{class:{[`as-legend-size-continuous-line--${this.orientation}`]:!0},style:this.getSVGStyle(),viewBox:this.getSVGViewBox()},t("g",null,t("path",{style:this.getPathStyle(),d:h.join(" ")+" Z"}),t("g",null,l.map(({x1:e,x2:i,y1:s,y2:n})=>{let a=-o;return"horizontal"===this.orientation&&(a=0),t("line",{"stroke-width":this.leadingLineStrokeWidth,x1:e,y1:s,x2:i+a,y2:n})})),t("g",null,l.map(({label:e,x2:i,y2:n})=>{const a={x:s-o,y:this.textLineHeight/4};return"horizontal"===this.orientation&&(a.x=0,a.y=this.textLineHeight),[t("text",{x:i+a.x,y:n+a.y},e)]}))))}parseSize(){if(!this.data||0===this.data.length)return;const t=this.getSortedData();this.rSize=Math.max(t[0].width+n+this.textLineHeight,0)}getSortedData(){return null===this.data?this.data:this.data.slice().sort((t,e)=>e.width-t.width)}getPathStyle(){return{fill:`${this.data[0].color}`}}getSVGStyle(){return{height:`${("horizontal"===this.orientation?this.rSize:this.size)*(1+this.yMarginFactor)}px`,width:`${this.size*(1+this.xMarginFactor)}px`}}getSVGViewBox(){const t="horizontal"===this.orientation?this.rSize:this.size;let e=this.size*(-this.xMarginFactor/2);return"vertical"===this.orientation&&(e=0),`${e} ${t*(-this.yMarginFactor/2)} ${this.size*(1+this.xMarginFactor)} ${t*(1+this.yMarginFactor)}`}getOffset(t,e){let i=0;return t===e&&(i+=this.leadingLineStrokeWidth),0===t&&(i-=this.leadingLineStrokeWidth),i}static get is(){return"as-legend-size-continuous-line"}static get properties(){return{data:{type:"Any",attr:"data"},leadingLineStrokeWidth:{type:Number,attr:"leading-line-stroke-width"},orientation:{type:String,attr:"orientation"},rSize:{state:!0},size:{type:Number,attr:"size"},textLineHeight:{type:Number,attr:"text-line-height"},width:{type:Number,attr:"width"},xMarginFactor:{type:Number,attr:"x-margin-factor"},yMarginFactor:{type:Number,attr:"y-margin-factor"}}}static get style(){return"as-legend-size-continuous-line{display:block;overflow:hidden}as-legend-size-continuous-line svg text{font:var(--as--font--caption)}as-legend-size-continuous-line svg line{stroke:var(--as-legend--color)}as-legend-size-continuous-line svg.as-legend-size-continuous-line--horizontal text{text-anchor:middle}"}}const r=1;class o{constructor(){this.orientation="vertical",this.scale=1}render(){if(!this.data)return null;const e={"as-legend-size-continuous-point--wrapper":!0,[`as-legend-size-continuous-point--${this.orientation}`]:!0},i=this.data.slice().sort((t,e)=>e.width-t.width);this.maxSize=i[0].width*this.scale;const s={height:`${this.maxSize}px`,width:`${this.maxSize}px`};return t("div",{class:e},t("span",{class:"as-legend-size-continuous-point--label"},i[i.length-1].label),t("div",{style:s,class:"as-legend-size-continuous-point--steps"},i.map(t=>this.renderStep(t))),t("span",{class:"as-legend-size-continuous-point--label"},i[0].label))}renderStep(i){const s=`${r}px ${i.strokeStyle||"solid"} ${i.strokeColor}`,n=e(i.strokeStyle)?2*r:0,a=`${Math.round((i.width+n)*this.scale)}px`;return t("div",{class:"as-legend-size-continuous-point--circle",style:{backgroundColor:i.color,border:s,height:a,width:a}})}static get is(){return"as-legend-size-continuous-point"}static get properties(){return{data:{type:"Any",attr:"data"},orientation:{type:String,attr:"orientation"},scale:{type:Number,attr:"scale"}}}static get style(){return"as-legend-size-continuous-point{--as-legend-size-continuous-point--color:var(--as--color--type-01);--as-legend-size-continuous-point--shadow:rgba(0,0,0,0.1);display:block}as-legend-size-continuous-point .as-legend-size-continuous-point--steps{position:relative;margin:8px}as-legend-size-continuous-point .as-legend-size-continuous-point--steps,as-legend-size-continuous-point .as-legend-size-continuous-point--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-size-continuous-point .as-legend-size-continuous-point--circle{position:absolute;border:2px solid var(--as-legend-size-continuous-point--shadow);border-radius:50%;-webkit-box-shadow:0 0 2px 0 var(--as-legend-size-continuous-point--shadow);box-shadow:0 0 2px 0 var(--as-legend-size-continuous-point--shadow)}as-legend-size-continuous-point .as-legend-size-continuous-point--label{color:var(--as-legend-size-continuous-point--color);font:var(--as--font--caption);text-transform:capitalize;white-space:nowrap}as-legend-size-continuous-point .as-legend-size-continuous-point--vertical .as-legend-size-continuous-point--steps,as-legend-size-continuous-point .as-legend-size-continuous-point--vertical.as-legend-size-continuous-point--wrapper{-ms-flex-direction:column-reverse;flex-direction:column-reverse}"}}export{i as AsLegendSizeContinuous,a as AsLegendSizeContinuousLine,o as AsLegendSizeContinuousPoint};