{"version":3,"sources":["../node_modules/@carto/airship-components/dist/esm/es5/polyfills/css-shim.js"],"names":["applyPolyfill","window","document","e","d","a","b","c","this","constructor","_keys","_values","_itp","objectOnly","v","call","w","get","x","prototype","add","forEach","set","f","has","splice","m","n","Object","TypeError","length","y","indexOf","p","q","r","push","t","h","l","k","g","next","done","value","u","entries","defineProperty","WeakMap","clear","Map","values","keys","Set","WeakSet","StyleNode","start","end","previous","parent","rules","parsedCssText","cssText","atRule","type","keyframesName","selector","parsedSelector","parse","parseCss","substring","trim","replace","arguments","_expandUnicodeEscapes","RX","multipleSpaces","lastIndexOf","s","AT_START","MEDIA_START","types","MEDIA_RULE","match","keyframesRule","KEYFRAMES_RULE","split","pop","VAR_START","MIXIN_RULE","STYLE_RULE","o","i","OPEN_BRACE","CLOSE_BRACE","lex","comments","port","clean","customProp","mixinProp","mixinApply","varApply","findRegex","lastIndex","index","VAR_USAGE_START","VAR_ASSIGN_START","COMMENTS","TRAILING_LINES","compileVar","findVarEndIndex","slice","propName","fallback","join","parseVar","compileTemplate","executeTemplate","resolveVar","findEndValue","removeCustomAssigns","resolveValues","declarations","prop","getSelectors","filter","FIND_DECLARATIONS","exec","normalizeValue","important","getDeclarations","specificity","nu","IMPORTANT","endsWith","substr","getSelectorsForScopes","apply","selectors","parseCSS","original","template","isDynamic","addGlobalStyle","innerHTML","styleEl","replaceScope","RegExp","replaceAll","loadDocument","querySelectorAll","addGlobalLink","Promise","all","loadDocumentLinks","then","loadDocumentStyles","href","fetch","text","CSS_VARIABLE_REGEXP","test","hasCssVariables","parentNode","CSS_URL_REGEXP","hasRelativeUrls","fixRelativeUrls","createElement","insertBefore","remove","catch","console","error","CustomStyle","win","doc","count","hostStyleMap","hostScopeMap","globalScopes","scopesMap","initShim","requestAnimationFrame","addLink","updateGlobal","createHostStyle","registerHostTemplate","cssScopeId","map","assign","reScope","removeHost","delete","updateHost","sort","sortSelectors","concat","parentElement","getScopesForElement","matches","getActiveSelectors","updateGlobalScopes","customStyleShim"],"mappings":"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","file":"static/js/63.46b23658.chunk.js","sourcesContent":["export function applyPolyfill(window, document) {\n  /*! https://github.com/WebReflection/es6-collections\n  (C) Andrea Giammarchi - @WebReflection - Mit Style License */\n  (function (e) {\n    function d(a, b) {\n      function c(a) {\n        if (!this || this.constructor !== c) return new c(a);\n        this._keys = [];\n        this._values = [];\n        this._itp = [];\n        this.objectOnly = b;\n        a && v.call(this, a);\n      }\n\n      b || w(a, \"size\", {\n        get: x\n      });\n      a.constructor = c;\n      c.prototype = a;\n      return c;\n    }\n\n    function v(a) {\n      this.add ? a.forEach(this.add, this) : a.forEach(function (a) {\n        this.set(a[0], a[1]);\n      }, this);\n    }\n\n    function f(a) {\n      this.has(a) && (this._keys.splice(c, 1), this._values.splice(c, 1), this._itp.forEach(function (a) {\n        c < a[0] && a[0]--;\n      }));\n      return -1 < c;\n    }\n\n    function m(a) {\n      return this.has(a) ? this._values[c] : void 0;\n    }\n\n    function n(a, b) {\n      if (this.objectOnly && b !== Object(b)) throw new TypeError(\"Invalid value used as weak collection key\");\n      if (b != b || 0 === b) for (c = a.length; c-- && !y(a[c], b);) {\n        ;\n      } else c = a.indexOf(b);\n      return -1 < c;\n    }\n\n    function p(a) {\n      return n.call(this, this._values, a);\n    }\n\n    function q(a) {\n      return n.call(this, this._keys, a);\n    }\n\n    function r(a, b) {\n      this.has(a) ? this._values[c] = b : this._values[this._keys.push(a) - 1] = b;\n      return this;\n    }\n\n    function t(a) {\n      this.has(a) || this._values.push(a);\n      return this;\n    }\n\n    function h() {\n      (this._keys || 0).length = this._values.length = 0;\n    }\n\n    function z() {\n      return k(this._itp, this._keys);\n    }\n\n    function l() {\n      return k(this._itp, this._values);\n    }\n\n    function A() {\n      return k(this._itp, this._keys, this._values);\n    }\n\n    function B() {\n      return k(this._itp, this._values, this._values);\n    }\n\n    function k(a, b, c) {\n      var g = [0],\n          e = !1;\n      a.push(g);\n      return {\n        next: function next() {\n          var d = g[0];\n\n          if (!e && d < b.length) {\n            var f = c ? [b[d], c[d]] : b[d];\n            g[0]++;\n          } else e = !0, a.splice(a.indexOf(g), 1);\n\n          return {\n            done: e,\n            value: f\n          };\n        }\n      };\n    }\n\n    function x() {\n      return this._values.length;\n    }\n\n    function u(a, b) {\n      for (var c = this.entries();;) {\n        var d = c.next();\n        if (d.done) break;\n        a.call(b, d.value[1], d.value[0], this);\n      }\n    }\n\n    var c,\n        w = Object.defineProperty,\n        y = function y(a, b) {\n      return a === b || a !== a && b !== b;\n    };\n\n    \"undefined\" == typeof WeakMap && (e.WeakMap = d({\n      \"delete\": f,\n      clear: h,\n      get: m,\n      has: q,\n      set: r\n    }, !0));\n    \"undefined\" != typeof Map && \"function\" === typeof new Map().values && new Map().values().next || (e.Map = d({\n      \"delete\": f,\n      has: q,\n      get: m,\n      set: r,\n      keys: z,\n      values: l,\n      entries: A,\n      forEach: u,\n      clear: h\n    }));\n    \"undefined\" != typeof Set && \"function\" === typeof new Set().values && new Set().values().next || (e.Set = d({\n      has: p,\n      add: t,\n      \"delete\": f,\n      clear: h,\n      keys: l,\n      values: l,\n      entries: B,\n      forEach: u\n    }));\n    \"undefined\" == typeof WeakSet && (e.WeakSet = d({\n      \"delete\": f,\n      add: t,\n      clear: h,\n      has: p\n    }, !0));\n  })(window);\n\n  var StyleNode = function () {\n    return function () {\n      this.start = 0, this.end = 0, this.previous = null, this.parent = null, this.rules = null, this.parsedCssText = \"\", this.cssText = \"\", this.atRule = !1, this.type = 0, this.keyframesName = \"\", this.selector = \"\", this.parsedSelector = \"\";\n    };\n  }();\n\n  function parse(e) {\n    return parseCss(lex(e = clean(e)), e);\n  }\n\n  function clean(e) {\n    return e.replace(RX.comments, \"\").replace(RX.port, \"\");\n  }\n\n  function lex(e) {\n    var t = new StyleNode();\n    t.start = 0, t.end = e.length;\n\n    for (var r = t, n = 0, s = e.length; n < s; n++) {\n      if (e[n] === OPEN_BRACE) {\n        r.rules || (r.rules = []);\n        var a = r,\n            o = a.rules[a.rules.length - 1] || null;\n        (r = new StyleNode()).start = n + 1, r.parent = a, r.previous = o, a.rules.push(r);\n      } else e[n] === CLOSE_BRACE && (r.end = n + 1, r = r.parent || t);\n    }\n\n    return t;\n  }\n\n  function parseCss(e, t) {\n    var r = t.substring(e.start, e.end - 1);\n\n    if (e.parsedCssText = e.cssText = r.trim(), e.parent) {\n      var n = e.previous ? e.previous.end : e.parent.start;\n      r = (r = (r = _expandUnicodeEscapes(r = t.substring(n, e.start - 1))).replace(RX.multipleSpaces, \" \")).substring(r.lastIndexOf(\";\") + 1);\n      var s = e.parsedSelector = e.selector = r.trim();\n      e.atRule = 0 === s.indexOf(AT_START), e.atRule ? 0 === s.indexOf(MEDIA_START) ? e.type = types.MEDIA_RULE : s.match(RX.keyframesRule) && (e.type = types.KEYFRAMES_RULE, e.keyframesName = e.selector.split(RX.multipleSpaces).pop()) : 0 === s.indexOf(VAR_START) ? e.type = types.MIXIN_RULE : e.type = types.STYLE_RULE;\n    }\n\n    var a = e.rules;\n    if (a) for (var o = 0, i = a.length, l = void 0; o < i && (l = a[o]); o++) {\n      parseCss(l, t);\n    }\n    return e;\n  }\n\n  function _expandUnicodeEscapes(e) {\n    return e.replace(/\\\\([0-9a-f]{1,6})\\s/gi, function () {\n      for (var e = arguments[1], t = 6 - e.length; t--;) {\n        e = \"0\" + e;\n      }\n\n      return \"\\\\\" + e;\n    });\n  }\n\n  var types = {\n    STYLE_RULE: 1,\n    KEYFRAMES_RULE: 7,\n    MEDIA_RULE: 4,\n    MIXIN_RULE: 1e3\n  },\n      OPEN_BRACE = \"{\",\n      CLOSE_BRACE = \"}\",\n      RX = {\n    comments: /\\/\\*[^*]*\\*+([^\\/*][^*]*\\*+)*\\//gim,\n    port: /@import[^;]*;/gim,\n    customProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\\n]|$)/gim,\n    mixinProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\\n]|$)?/gim,\n    mixinApply: /@apply\\s*\\(?[^);]*\\)?\\s*(?:[;\\n]|$)?/gim,\n    varApply: /[^;:]*?:[^;]*?var\\([^;]*\\)(?:[;\\n]|$)?/gim,\n    keyframesRule: /^@[^\\s]*keyframes/,\n    multipleSpaces: /\\s+/g\n  },\n      VAR_START = \"--\",\n      MEDIA_START = \"@media\",\n      AT_START = \"@\";\n\n  function findRegex(e, t, r) {\n    e.lastIndex = 0;\n    var n = t.substring(r).match(e);\n\n    if (n) {\n      var s = r + n.index;\n      return {\n        start: s,\n        end: s + n[0].length\n      };\n    }\n\n    return null;\n  }\n\n  var VAR_USAGE_START = /\\bvar\\(/,\n      VAR_ASSIGN_START = /\\B--[\\w-]+\\s*:/,\n      COMMENTS = /\\/\\*[^*]*\\*+([^\\/*][^*]*\\*+)*\\//gim,\n      TRAILING_LINES = /^[\\t ]+\\n/gm;\n\n  function resolveVar(e, t, r) {\n    return e[t] ? e[t] : r ? executeTemplate(r, e) : \"\";\n  }\n\n  function findVarEndIndex(e, t) {\n    for (var r = 0, n = t; n < e.length; n++) {\n      var s = e[n];\n      if (\"(\" === s) r++;else if (\")\" === s && --r <= 0) return n + 1;\n    }\n\n    return n;\n  }\n\n  function parseVar(e, t) {\n    var r = findRegex(VAR_USAGE_START, e, t);\n    if (!r) return null;\n    var n = findVarEndIndex(e, r.start),\n        s = e.substring(r.end, n - 1).split(\",\"),\n        a = s[0],\n        o = s.slice(1);\n    return {\n      start: r.start,\n      end: n,\n      propName: a.trim(),\n      fallback: o.length > 0 ? o.join(\",\").trim() : void 0\n    };\n  }\n\n  function compileVar(e, t, r) {\n    var n = parseVar(e, r);\n    if (!n) return t.push(e.substring(r, e.length)), e.length;\n    var s = n.propName,\n        a = null != n.fallback ? compileTemplate(n.fallback) : void 0;\n    return t.push(e.substring(r, n.start), function (e) {\n      return resolveVar(e, s, a);\n    }), n.end;\n  }\n\n  function executeTemplate(e, t) {\n    for (var r = \"\", n = 0; n < e.length; n++) {\n      var s = e[n];\n      r += \"string\" == typeof s ? s : s(t);\n    }\n\n    return r;\n  }\n\n  function findEndValue(e, t) {\n    for (var r = !1, n = !1, s = t; s < e.length; s++) {\n      var a = e[s];\n      if (r) n && '\"' === a && (r = !1), n || \"'\" !== a || (r = !1);else if ('\"' === a) r = !0, n = !0;else if (\"'\" === a) r = !0, n = !1;else {\n        if (\";\" === a) return s + 1;\n        if (\"}\" === a) return s;\n      }\n    }\n\n    return s;\n  }\n\n  function removeCustomAssigns(e) {\n    for (var t = \"\", r = 0;;) {\n      var n = findRegex(VAR_ASSIGN_START, e, r),\n          s = n ? n.start : e.length;\n      if (t += e.substring(r, s), !n) break;\n      r = findEndValue(e, s);\n    }\n\n    return t;\n  }\n\n  function compileTemplate(e) {\n    var t = 0;\n    e = removeCustomAssigns(e = e.replace(COMMENTS, \"\")).replace(TRAILING_LINES, \"\");\n\n    for (var r = []; t < e.length;) {\n      t = compileVar(e, r, t);\n    }\n\n    return r;\n  }\n\n  function resolveValues(e) {\n    var t = {};\n    e.forEach(function (e) {\n      e.declarations.forEach(function (e) {\n        t[e.prop] = e.value;\n      });\n    });\n\n    for (var r = {}, n = Object.entries(t), s = function s(e) {\n      var t = !1;\n      if (n.forEach(function (e) {\n        var n = e[0],\n            s = executeTemplate(e[1], r);\n        s !== r[n] && (r[n] = s, t = !0);\n      }), !t) return \"break\";\n    }, a = 0; a < 10; a++) {\n      if (\"break\" === s()) break;\n    }\n\n    return r;\n  }\n\n  function getSelectors(e, t) {\n    if (void 0 === t && (t = 0), !e.rules) return [];\n    var r = [];\n    return e.rules.filter(function (e) {\n      return e.type === types.STYLE_RULE;\n    }).forEach(function (e) {\n      var n = getDeclarations(e.cssText);\n      n.length > 0 && e.parsedSelector.split(\",\").forEach(function (e) {\n        e = e.trim(), r.push({\n          selector: e,\n          declarations: n,\n          specificity: computeSpecificity(e),\n          nu: t\n        });\n      }), t++;\n    }), r;\n  }\n\n  function computeSpecificity(e) {\n    return 1;\n  }\n\n  var IMPORTANT = \"!important\",\n      FIND_DECLARATIONS = /(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^)]*?\\)|[^};{])+)|\\{([^}]*)\\}(?:(?=[;\\s}])|$))/gm;\n\n  function getDeclarations(e) {\n    for (var t, r = []; t = FIND_DECLARATIONS.exec(e.trim());) {\n      var n = normalizeValue(t[2]),\n          s = n.value,\n          a = n.important;\n      r.push({\n        prop: t[1].trim(),\n        value: compileTemplate(s),\n        important: a\n      });\n    }\n\n    return r;\n  }\n\n  function normalizeValue(e) {\n    var t = (e = e.replace(/\\s+/gim, \" \").trim()).endsWith(IMPORTANT);\n    return t && (e = e.substr(0, e.length - IMPORTANT.length).trim()), {\n      value: e,\n      important: t\n    };\n  }\n\n  function getActiveSelectors(e, t, r) {\n    return sortSelectors(getSelectorsForScopes(r.concat(getScopesForElement(t, e))).filter(function (t) {\n      return matches(e, t.selector);\n    }));\n  }\n\n  function getScopesForElement(e, t) {\n    for (var r = []; t;) {\n      var n = e.get(t);\n      n && r.push(n), t = t.parentElement;\n    }\n\n    return r;\n  }\n\n  function getSelectorsForScopes(e) {\n    var t = [];\n    return e.forEach(function (e) {\n      t.push.apply(t, e.selectors);\n    }), t;\n  }\n\n  function sortSelectors(e) {\n    return e.sort(function (e, t) {\n      return e.specificity === t.specificity ? e.nu - t.nu : e.specificity - t.specificity;\n    }), e;\n  }\n\n  function matches(e, t) {\n    return e.matches(t);\n  }\n\n  function parseCSS(e) {\n    var t = parse(e),\n        r = compileTemplate(e);\n    return {\n      original: e,\n      template: r,\n      selectors: getSelectors(t),\n      isDynamic: r.length > 1\n    };\n  }\n\n  function addGlobalStyle(e, t) {\n    var r = parseCSS(t.innerHTML);\n    r.styleEl = t, e.push(r);\n  }\n\n  function updateGlobalScopes(e) {\n    var t = resolveValues(getSelectorsForScopes(e));\n    e.forEach(function (e) {\n      e.isDynamic && (e.styleEl.innerHTML = executeTemplate(e.template, t));\n    });\n  }\n\n  function reScope(e, t) {\n    var r = e.template.map(function (r) {\n      return \"string\" == typeof r ? replaceScope(r, e.cssScopeId, t) : r;\n    }),\n        n = e.selectors.map(function (r) {\n      return Object.assign({}, r, {\n        selector: replaceScope(r.selector, e.cssScopeId, t)\n      });\n    });\n    return Object.assign({}, e, {\n      template: r,\n      selectors: n,\n      cssScopeId: t\n    });\n  }\n\n  function replaceScope(e, t, r) {\n    return e = replaceAll(e, \"\\\\.\" + t, \".\" + r);\n  }\n\n  function replaceAll(e, t, r) {\n    return e.replace(new RegExp(t, \"g\"), r);\n  }\n\n  function loadDocument(e, t) {\n    return loadDocumentLinks(e, t).then(function () {\n      loadDocumentStyles(e, t);\n    });\n  }\n\n  function loadDocumentLinks(e, t) {\n    for (var r = [], n = e.querySelectorAll('link[rel=\"stylesheet\"][href]'), s = 0; s < n.length; s++) {\n      r.push(addGlobalLink(e, t, n[s]));\n    }\n\n    return Promise.all(r);\n  }\n\n  function loadDocumentStyles(e, t) {\n    for (var r = e.querySelectorAll(\"style\"), n = 0; n < r.length; n++) {\n      addGlobalStyle(t, r[n]);\n    }\n  }\n\n  function addGlobalLink(e, t, r) {\n    var n = r.href;\n    return fetch(n).then(function (e) {\n      return e.text();\n    }).then(function (s) {\n      if (hasCssVariables(s) && r.parentNode) {\n        hasRelativeUrls(s) && (s = fixRelativeUrls(s, n));\n        var a = e.createElement(\"style\");\n        a.innerHTML = s, addGlobalStyle(t, a), r.parentNode.insertBefore(a, r), r.remove();\n      }\n    }).catch(function (e) {\n      console.error(e);\n    });\n  }\n\n  var CSS_VARIABLE_REGEXP = /[\\s;{]--[-a-zA-Z0-9]+\\s*:/m;\n\n  function hasCssVariables(e) {\n    return e.indexOf(\"var(\") > -1 || CSS_VARIABLE_REGEXP.test(e);\n  }\n\n  var CSS_URL_REGEXP = /url[\\s]*\\([\\s]*['\"]?(?![http|\\/])([^\\'\\\"\\)]*)[\\s]*['\"]?\\)[\\s]*/gim;\n\n  function hasRelativeUrls(e) {\n    return CSS_URL_REGEXP.lastIndex = 0, CSS_URL_REGEXP.test(e);\n  }\n\n  function fixRelativeUrls(e, t) {\n    var r = t.replace(/[^\\/]*$/, \"\");\n    return e.replace(CSS_URL_REGEXP, function (e, t) {\n      var n = r + t;\n      return e.replace(t, n);\n    });\n  }\n\n  var CustomStyle = function () {\n    function e(e, t) {\n      this.win = e, this.doc = t, this.count = 0, this.hostStyleMap = new WeakMap(), this.hostScopeMap = new WeakMap(), this.globalScopes = [], this.scopesMap = new Map();\n    }\n\n    return e.prototype.initShim = function () {\n      var e = this;\n      return new Promise(function (t) {\n        e.win.requestAnimationFrame(function () {\n          loadDocument(e.doc, e.globalScopes).then(function () {\n            return t();\n          });\n        });\n      });\n    }, e.prototype.addLink = function (e) {\n      var t = this;\n      return addGlobalLink(this.doc, this.globalScopes, e).then(function () {\n        t.updateGlobal();\n      });\n    }, e.prototype.addGlobalStyle = function (e) {\n      addGlobalStyle(this.globalScopes, e), this.updateGlobal();\n    }, e.prototype.createHostStyle = function (e, t, r) {\n      if (this.hostScopeMap.has(e)) return null;\n      var n = e[\"s-sc\"],\n          s = this.registerHostTemplate(r, t, n),\n          a = s.isDynamic && s.cssScopeId;\n      if (!(a || !s.styleEl)) return null;\n      var o = this.doc.createElement(\"style\");\n\n      if (a) {\n        var i = s.cssScopeId + \"-\" + this.count;\n        e[\"s-sc\"] = i, this.hostStyleMap.set(e, o), this.hostScopeMap.set(e, reScope(s, i)), this.count++;\n      } else s.styleEl = o, s.isDynamic || (o.innerHTML = executeTemplate(s.template, {})), this.globalScopes.push(s), this.updateGlobal(), this.hostScopeMap.set(e, s);\n\n      return o;\n    }, e.prototype.removeHost = function (e) {\n      var t = this.hostStyleMap.get(e);\n      t && t.remove(), this.hostStyleMap.delete(e), this.hostScopeMap.delete(e);\n    }, e.prototype.updateHost = function (e) {\n      var t = this.hostScopeMap.get(e);\n\n      if (t && t.isDynamic && t.cssScopeId) {\n        var r = this.hostStyleMap.get(e);\n\n        if (r) {\n          var n = resolveValues(getActiveSelectors(e, this.hostScopeMap, this.globalScopes));\n          r.innerHTML = executeTemplate(t.template, n);\n        }\n      }\n    }, e.prototype.updateGlobal = function () {\n      updateGlobalScopes(this.globalScopes);\n    }, e.prototype.registerHostTemplate = function (e, t, r) {\n      var n = this.scopesMap.get(t);\n      return n || ((n = parseCSS(e)).cssScopeId = r, this.scopesMap.set(t, n)), n;\n    }, e;\n  }();\n\n  window.customStyleShim = new CustomStyle(window, document);\n}"],"sourceRoot":""}