(window["webpackJsonpdotgis-carto-vl-demo"]=window["webpackJsonpdotgis-carto-vl-demo"]||[]).push([[15],{100:function(t,e,i){"use strict";function n(t){return-1===["none","initial","inherit","hidden","unset"].indexOf(t)}i.d(e,"a",(function(){return n}))},81:function(t,e,i){"use strict";i.r(e),i.d(e,"AsLegendSizeContinuous",(function(){return s})),i.d(e,"AsLegendSizeContinuousLine",(function(){return r})),i.d(e,"AsLegendSizeContinuousPoint",(function(){return a}));var n=i(14),o=i(100),s=function(){function t(){this.orientation="vertical",this.scale=1}return t.prototype.render=function(){return this.data&&0!==this.data.length?Object(n.b)("div",{class:{"as-legend-size-continuous--overflow":"line"===this.data[0].type}},this.renderLegend(this.data)):null},t.prototype.renderLegend=function(t){switch(t[0].type){case"point":return Object(n.b)("as-legend-size-continuous-point",{data:this.data,orientation:this.orientation,scale:this.scale});case"line":return Object(n.b)("as-legend-size-continuous-line",{data:this.data,orientation:this.orientation});default:return null}},Object.defineProperty(t,"is",{get:function(){return"as-legend-size-continuous"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{data:{type:"Any",attr:"data"},orientation:{type:String,attr:"orientation"},scale:{type:Number,attr:"scale"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"as-legend-size-continuous{display:block}as-legend-size-continuous .as-legend-size-continuous--overflow{overflow:hidden}"},enumerable:!0,configurable:!0}),t}(),r=function(){function t(){this.data=null,this.orientation="vertical",this.size=300,this.leadingLineStrokeWidth=.5,this.textLineHeight=12,this.xMarginFactor=.1,this.yMarginFactor=.1,this.width=null,this.rSize=0}return t.prototype.componentWillUpdate=function(){this.parseSize()},t.prototype.componentWillLoad=function(){this.parseSize()},t.prototype.render=function(){var t,e=this;if(this.data&&0!==this.data.length){var i=this.getSortedData(),o=i[0].width,s=o/2,r=Math.max(o+4,this.width),a="horizontal"===this.orientation||null===this.width?0:(this.width-o)/2,l=[],u=[];i.forEach((function(t,n){var c=s*(t.width/o),d=n/(i.length-1),h=s+c,p=s-c,g=e.size-e.size*d,b="vertical"===e.orientation?[p+a,g]:[g+a,p];if(l.splice(n,0,"L"+("vertical"===e.orientation?[h+a,g]:[g+a,h]).join(" ")),l.splice(l.length-n,0,"L"+b.join(" ")),t.label){var f=e.getOffset(n,i.length-1),z=e.size-e.size*d+f,y=[s+c,z],x=[r,z];"horizontal"===e.orientation&&(y.reverse(),x.reverse()),y[0]+=a,x[0]+=a,u.push({label:t.label,x1:y[0],x2:x[0],y1:y[1],y2:x[1]})}})),l.splice(0,0,"horizontal"===this.orientation?"M"+this.size+" 0":"M0 "+this.size);var c=((t={})["as-legend-size-continuous-line--"+this.orientation]=!0,t);return Object(n.b)("svg",{class:c,style:this.getSVGStyle(),viewBox:this.getSVGViewBox()},Object(n.b)("g",null,Object(n.b)("path",{style:this.getPathStyle(),d:l.join(" ")+" Z"}),Object(n.b)("g",null,u.map((function(t){var i=-a;return"horizontal"===e.orientation&&(i=0),Object(n.b)("line",{"stroke-width":e.leadingLineStrokeWidth,x1:t.x1,y1:t.y1,x2:t.x2+i,y2:t.y2})}))),Object(n.b)("g",null,u.map((function(t){var i=t.label,o=t.x2,s=t.y2,r={x:4-a,y:e.textLineHeight/4};return"horizontal"===e.orientation&&(r.x=0,r.y=e.textLineHeight),[Object(n.b)("text",{x:o+r.x,y:s+r.y},i)]})))))}},t.prototype.parseSize=function(){if(this.data&&0!==this.data.length){var t=this.getSortedData();this.rSize=Math.max(t[0].width+4+this.textLineHeight,0)}},t.prototype.getSortedData=function(){return null===this.data?this.data:this.data.slice().sort((function(t,e){return e.width-t.width}))},t.prototype.getPathStyle=function(){return{fill:""+this.data[0].color}},t.prototype.getSVGStyle=function(){return{height:("horizontal"===this.orientation?this.rSize:this.size)*(1+this.yMarginFactor)+"px",width:this.size*(1+this.xMarginFactor)+"px"}},t.prototype.getSVGViewBox=function(){var t="horizontal"===this.orientation?this.rSize:this.size,e=this.size*(-this.xMarginFactor/2);return"vertical"===this.orientation&&(e=0),e+" "+t*(-this.yMarginFactor/2)+" "+this.size*(1+this.xMarginFactor)+" "+t*(1+this.yMarginFactor)},t.prototype.getOffset=function(t,e){var i=0;return t===e&&(i+=this.leadingLineStrokeWidth),0===t&&(i-=this.leadingLineStrokeWidth),i},Object.defineProperty(t,"is",{get:function(){return"as-legend-size-continuous-line"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{data:{type:"Any",attr:"data"},leadingLineStrokeWidth:{type:Number,attr:"leading-line-stroke-width"},orientation:{type:String,attr:"orientation"},rSize:{state:!0},size:{type:Number,attr:"size"},textLineHeight:{type:Number,attr:"text-line-height"},width:{type:Number,attr:"width"},xMarginFactor:{type:Number,attr:"x-margin-factor"},yMarginFactor:{type:Number,attr:"y-margin-factor"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"as-legend-size-continuous-line{display:block;overflow:hidden}as-legend-size-continuous-line svg text{font:var(--as--font--caption)}as-legend-size-continuous-line svg line{stroke:var(--as-legend--color)}as-legend-size-continuous-line svg.as-legend-size-continuous-line--horizontal text{text-anchor:middle}"},enumerable:!0,configurable:!0}),t}(),a=function(){function t(){this.orientation="vertical",this.scale=1}return t.prototype.render=function(){var t,e=this;if(!this.data)return null;var i=((t={"as-legend-size-continuous-point--wrapper":!0})["as-legend-size-continuous-point--"+this.orientation]=!0,t),o=this.data.slice().sort((function(t,e){return e.width-t.width}));this.maxSize=o[0].width*this.scale;var s={height:this.maxSize+"px",width:this.maxSize+"px"};return Object(n.b)("div",{class:i},Object(n.b)("span",{class:"as-legend-size-continuous-point--label"},o[o.length-1].label),Object(n.b)("div",{style:s,class:"as-legend-size-continuous-point--steps"},o.map((function(t){return e.renderStep(t)}))),Object(n.b)("span",{class:"as-legend-size-continuous-point--label"},o[0].label))},t.prototype.renderStep=function(t){var e="1px "+(t.strokeStyle||"solid")+" "+t.strokeColor,i=Object(o.a)(t.strokeStyle)?2:0,s=Math.round((t.width+i)*this.scale)+"px";return Object(n.b)("div",{class:"as-legend-size-continuous-point--circle",style:{backgroundColor:t.color,border:e,height:s,width:s}})},Object.defineProperty(t,"is",{get:function(){return"as-legend-size-continuous-point"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{data:{type:"Any",attr:"data"},orientation:{type:String,attr:"orientation"},scale:{type:Number,attr:"scale"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"style",{get:function(){return"as-legend-size-continuous-point{--as-legend-size-continuous-point--color:var(--as--color--type-01);--as-legend-size-continuous-point--shadow:rgba(0,0,0,0.1);display:block}as-legend-size-continuous-point .as-legend-size-continuous-point--steps{position:relative;margin:8px}as-legend-size-continuous-point .as-legend-size-continuous-point--steps,as-legend-size-continuous-point .as-legend-size-continuous-point--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-size-continuous-point .as-legend-size-continuous-point--circle{position:absolute;border:2px solid var(--as-legend-size-continuous-point--shadow);border-radius:50%;-webkit-box-shadow:0 0 2px 0 var(--as-legend-size-continuous-point--shadow);box-shadow:0 0 2px 0 var(--as-legend-size-continuous-point--shadow)}as-legend-size-continuous-point .as-legend-size-continuous-point--label{color:var(--as-legend-size-continuous-point--color);font:var(--as--font--caption);text-transform:capitalize;white-space:nowrap}as-legend-size-continuous-point .as-legend-size-continuous-point--vertical .as-legend-size-continuous-point--steps,as-legend-size-continuous-point .as-legend-size-continuous-point--vertical.as-legend-size-continuous-point--wrapper{-ms-flex-direction:column-reverse;flex-direction:column-reverse}"},enumerable:!0,configurable:!0}),t}()}}]);
//# sourceMappingURL=15.2f68a29b.chunk.js.map