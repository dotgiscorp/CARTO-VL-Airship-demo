{"ast":null,"code":"import * as tslib_1 from \"../polyfills/tslib.js\";\nimport { h } from \"../airship.core.js\";\nimport { a as readableNumber } from \"./chunk-6e6f6eb8.js\";\nimport { a as shadeOrBlend } from \"./chunk-b62f03fa.js\";\nimport { a as contentFragment } from \"./chunk-d27dd9c0.js\";\nimport { m as event, n as select, o as customEvent, p as mouse, q as value, r as max, s as min, t as linear, u as axisBottom, v as axisLeft, w as format, x as timeFormat, y as defaultLocale } from \"./chunk-72a4ae8e.js\";\nimport { a as dispatch, b as interrupt } from \"./chunk-8740ab93.js\";\nvar DEFAULT_BAR_COLOR_HEX = \"#47DB99\",\n    DEFAULT_BACKGROUND_BAR_COLOR_HEX = \"#E2E6E3\",\n    DEFAULT_BAR_COLOR = \"var(--as--color--complementary, \" + DEFAULT_BAR_COLOR_HEX + \")\",\n    DEFAULT_BACKGROUND_BAR_COLOR = \"var(--as-color--type-03, \" + DEFAULT_BACKGROUND_BAR_COLOR_HEX + \")\";\n\nfunction noevent() {\n  event.preventDefault(), event.stopImmediatePropagation();\n}\n\nfunction nodrag(t) {\n  var e = t.document.documentElement,\n      n = select(t).on(\"dragstart.drag\", noevent, !0);\n  \"onselectstart\" in e ? n.on(\"selectstart.drag\", noevent, !0) : (e.__noselect = e.style.MozUserSelect, e.style.MozUserSelect = \"none\");\n}\n\nfunction yesdrag(t, e) {\n  var n = t.document.documentElement,\n      i = select(t).on(\"dragstart.drag\", null);\n  e && (i.on(\"click.drag\", noevent, !0), setTimeout(function () {\n    i.on(\"click.drag\", null);\n  }, 0)), \"onselectstart\" in n ? i.on(\"selectstart.drag\", null) : (n.style.MozUserSelect = n.__noselect, delete n.__noselect);\n}\n\nfunction constant$1(t) {\n  return function () {\n    return t;\n  };\n}\n\nfunction BrushEvent(t, e, n) {\n  this.target = t, this.type = e, this.selection = n;\n}\n\nfunction nopropagation$1() {\n  event.stopImmediatePropagation();\n}\n\nfunction noevent$1() {\n  event.preventDefault(), event.stopImmediatePropagation();\n}\n\nvar MODE_DRAG = {\n  name: \"drag\"\n},\n    MODE_SPACE = {\n  name: \"space\"\n},\n    MODE_HANDLE = {\n  name: \"handle\"\n},\n    MODE_CENTER = {\n  name: \"center\"\n},\n    X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function (t, e) {\n    return t && [[t[0], e[0][1]], [t[1], e[1][1]]];\n  },\n  output: function (t) {\n    return t && [t[0][0], t[1][0]];\n  }\n},\n    Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function (t, e) {\n    return t && [[e[0][0], t[0]], [e[1][0], t[1]]];\n  },\n  output: function (t) {\n    return t && [t[0][1], t[1][1]];\n  }\n},\n    cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n},\n    flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n},\n    flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n},\n    signsX = {\n  overlay: 1,\n  selection: 1,\n  n: null,\n  e: 1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: 1,\n  se: 1,\n  sw: -1\n},\n    signsY = {\n  overlay: 1,\n  selection: 1,\n  n: -1,\n  e: null,\n  s: 1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: 1,\n  sw: 1\n};\n\nfunction type(t) {\n  return {\n    type: t\n  };\n}\n\nfunction defaultFilter$1() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var t = this.ownerSVGElement || this;\n  return [[0, 0], [t.width.baseVal.value, t.height.baseVal.value]];\n}\n\nfunction local(t) {\n  for (; !t.__brush;) if (!(t = t.parentNode)) return;\n\n  return t.__brush;\n}\n\nfunction empty(t) {\n  return t[0][0] === t[1][0] || t[0][1] === t[1][1];\n}\n\nfunction brushX() {\n  return brush$1(X);\n}\n\nfunction brush$1(t) {\n  var e,\n      n = defaultExtent,\n      i = defaultFilter$1,\n      a = dispatch(o, \"start\", \"brush\", \"end\"),\n      r = 6;\n\n  function o(e) {\n    var n = e.property(\"__brush\", u).selectAll(\".overlay\").data([type(\"overlay\")]);\n    n.enter().append(\"rect\").attr(\"class\", \"overlay\").attr(\"pointer-events\", \"all\").attr(\"cursor\", cursors.overlay).merge(n).each(function () {\n      var t = local(this).extent;\n      select(this).attr(\"x\", t[0][0]).attr(\"y\", t[0][1]).attr(\"width\", t[1][0] - t[0][0]).attr(\"height\", t[1][1] - t[0][1]);\n    }), e.selectAll(\".selection\").data([type(\"selection\")]).enter().append(\"rect\").attr(\"class\", \"selection\").attr(\"cursor\", cursors.selection).attr(\"fill\", \"#777\").attr(\"fill-opacity\", .3).attr(\"stroke\", \"#fff\").attr(\"shape-rendering\", \"crispEdges\");\n    var i = e.selectAll(\".handle\").data(t.handles, function (t) {\n      return t.type;\n    });\n    i.exit().remove(), i.enter().append(\"rect\").attr(\"class\", function (t) {\n      return \"handle handle--\" + t.type;\n    }).attr(\"cursor\", function (t) {\n      return cursors[t.type];\n    }), e.each(s).attr(\"fill\", \"none\").attr(\"pointer-events\", \"all\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\").on(\"mousedown.brush touchstart.brush\", h);\n  }\n\n  function s() {\n    var t = select(this),\n        e = local(this).selection;\n    e ? (t.selectAll(\".selection\").style(\"display\", null).attr(\"x\", e[0][0]).attr(\"y\", e[0][1]).attr(\"width\", e[1][0] - e[0][0]).attr(\"height\", e[1][1] - e[0][1]), t.selectAll(\".handle\").style(\"display\", null).attr(\"x\", function (t) {\n      return \"e\" === t.type[t.type.length - 1] ? e[1][0] - r / 2 : e[0][0] - r / 2;\n    }).attr(\"y\", function (t) {\n      return \"s\" === t.type[0] ? e[1][1] - r / 2 : e[0][1] - r / 2;\n    }).attr(\"width\", function (t) {\n      return \"n\" === t.type || \"s\" === t.type ? e[1][0] - e[0][0] + r : r;\n    }).attr(\"height\", function (t) {\n      return \"e\" === t.type || \"w\" === t.type ? e[1][1] - e[0][1] + r : r;\n    })) : t.selectAll(\".selection,.handle\").style(\"display\", \"none\").attr(\"x\", null).attr(\"y\", null).attr(\"width\", null).attr(\"height\", null);\n  }\n\n  function l(t, e) {\n    return t.__brush.emitter || new c(t, e);\n  }\n\n  function c(t, e) {\n    this.that = t, this.args = e, this.state = t.__brush, this.active = 0;\n  }\n\n  function h() {\n    if (event.touches) {\n      if (event.changedTouches.length < event.touches.length) return noevent$1();\n    } else if (e) return;\n\n    if (i.apply(this, arguments)) {\n      var n,\n          a,\n          r,\n          o,\n          c,\n          h,\n          u,\n          d,\n          p,\n          m,\n          g,\n          C,\n          _,\n          f = this,\n          y = event.target.__data__.type,\n          L = \"selection\" === (event.metaKey ? y = \"overlay\" : y) ? MODE_DRAG : event.altKey ? MODE_CENTER : MODE_HANDLE,\n          v = t === Y ? null : signsX[y],\n          b = t === X ? null : signsY[y],\n          A = local(f),\n          D = A.extent,\n          E = A.selection,\n          S = D[0][0],\n          M = D[0][1],\n          x = D[1][0],\n          R = D[1][1],\n          w = v && b && event.shiftKey,\n          O = mouse(f),\n          T = O,\n          B = l(f, arguments).beforestart();\n\n      \"overlay\" === y ? A.selection = E = [[n = t === Y ? S : O[0], r = t === X ? M : O[1]], [c = t === Y ? x : n, u = t === X ? R : r]] : (n = E[0][0], r = E[0][1], c = E[1][0], u = E[1][1]), a = n, o = r, h = c, d = u;\n      var F = select(f).attr(\"pointer-events\", \"none\"),\n          I = F.selectAll(\".overlay\").attr(\"cursor\", cursors[y]);\n      if (event.touches) F.on(\"touchmove.brush\", H, !0).on(\"touchend.brush touchcancel.brush\", P, !0);else {\n        var N = select(event.view).on(\"keydown.brush\", function () {\n          switch (event.keyCode) {\n            case 16:\n              w = v && b;\n              break;\n\n            case 18:\n              L === MODE_HANDLE && (v && (c = h - p * v, n = a + p * v), b && (u = d - m * b, r = o + m * b), L = MODE_CENTER, k());\n              break;\n\n            case 32:\n              L !== MODE_HANDLE && L !== MODE_CENTER || (v < 0 ? c = h - p : v > 0 && (n = a - p), b < 0 ? u = d - m : b > 0 && (r = o - m), L = MODE_SPACE, I.attr(\"cursor\", cursors.selection), k());\n              break;\n\n            default:\n              return;\n          }\n\n          noevent$1();\n        }, !0).on(\"keyup.brush\", function () {\n          switch (event.keyCode) {\n            case 16:\n              w && (C = _ = w = !1, k());\n              break;\n\n            case 18:\n              L === MODE_CENTER && (v < 0 ? c = h : v > 0 && (n = a), b < 0 ? u = d : b > 0 && (r = o), L = MODE_HANDLE, k());\n              break;\n\n            case 32:\n              L === MODE_SPACE && (event.altKey ? (v && (c = h - p * v, n = a + p * v), b && (u = d - m * b, r = o + m * b), L = MODE_CENTER) : (v < 0 ? c = h : v > 0 && (n = a), b < 0 ? u = d : b > 0 && (r = o), L = MODE_HANDLE), I.attr(\"cursor\", cursors[y]), k());\n              break;\n\n            default:\n              return;\n          }\n\n          noevent$1();\n        }, !0).on(\"mousemove.brush\", H, !0).on(\"mouseup.brush\", P, !0);\n        nodrag(event.view);\n      }\n      nopropagation$1(), interrupt(f), s.call(f), B.start();\n    }\n\n    function H() {\n      var t = mouse(f);\n      !w || C || _ || (Math.abs(t[0] - T[0]) > Math.abs(t[1] - T[1]) ? _ = !0 : C = !0), T = t, g = !0, noevent$1(), k();\n    }\n\n    function k() {\n      var t;\n\n      switch (p = T[0] - O[0], m = T[1] - O[1], L) {\n        case MODE_SPACE:\n        case MODE_DRAG:\n          v && (p = Math.max(S - n, Math.min(x - c, p)), a = n + p, h = c + p), b && (m = Math.max(M - r, Math.min(R - u, m)), o = r + m, d = u + m);\n          break;\n\n        case MODE_HANDLE:\n          v < 0 ? (p = Math.max(S - n, Math.min(x - n, p)), a = n + p, h = c) : v > 0 && (p = Math.max(S - c, Math.min(x - c, p)), a = n, h = c + p), b < 0 ? (m = Math.max(M - r, Math.min(R - r, m)), o = r + m, d = u) : b > 0 && (m = Math.max(M - u, Math.min(R - u, m)), o = r, d = u + m);\n          break;\n\n        case MODE_CENTER:\n          v && (a = Math.max(S, Math.min(x, n - p * v)), h = Math.max(S, Math.min(x, c + p * v))), b && (o = Math.max(M, Math.min(R, r - m * b)), d = Math.max(M, Math.min(R, u + m * b)));\n      }\n\n      h < a && (v *= -1, t = n, n = c, c = t, t = a, a = h, h = t, y in flipX && I.attr(\"cursor\", cursors[y = flipX[y]])), d < o && (b *= -1, t = r, r = u, u = t, t = o, o = d, d = t, y in flipY && I.attr(\"cursor\", cursors[y = flipY[y]])), A.selection && (E = A.selection), C && (a = E[0][0], h = E[1][0]), _ && (o = E[0][1], d = E[1][1]), E[0][0] === a && E[0][1] === o && E[1][0] === h && E[1][1] === d || (A.selection = [[a, o], [h, d]], s.call(f), B.brush());\n    }\n\n    function P() {\n      if (nopropagation$1(), event.touches) {\n        if (event.touches.length) return;\n        e && clearTimeout(e), e = setTimeout(function () {\n          e = null;\n        }, 500), F.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else yesdrag(event.view, g), N.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n\n      F.attr(\"pointer-events\", \"all\"), I.attr(\"cursor\", cursors.overlay), A.selection && (E = A.selection), empty(E) && (A.selection = null, s.call(f)), B.end();\n    }\n  }\n\n  function u() {\n    var e = this.__brush || {\n      selection: null\n    };\n    return e.extent = n.apply(this, arguments), e.dim = t, e;\n  }\n\n  return o.move = function (e, n) {\n    e.selection ? e.on(\"start.brush\", function () {\n      l(this, arguments).beforestart().start();\n    }).on(\"interrupt.brush end.brush\", function () {\n      l(this, arguments).end();\n    }).tween(\"brush\", function () {\n      var e = this,\n          i = e.__brush,\n          a = l(e, arguments),\n          r = i.selection,\n          o = t.input(\"function\" == typeof n ? n.apply(this, arguments) : n, i.extent),\n          c = value(r, o);\n\n      function h(t) {\n        i.selection = 1 === t && empty(o) ? null : c(t), s.call(e), a.brush();\n      }\n\n      return r && o ? h : h(1);\n    }) : e.each(function () {\n      var e = arguments,\n          i = this.__brush,\n          a = t.input(\"function\" == typeof n ? n.apply(this, e) : n, i.extent),\n          r = l(this, e).beforestart();\n      interrupt(this), i.selection = null == a || empty(a) ? null : a, s.call(this), r.start().brush().end();\n    });\n  }, c.prototype = {\n    beforestart: function () {\n      return 1 == ++this.active && (this.state.emitter = this, this.starting = !0), this;\n    },\n    start: function () {\n      return this.starting && (this.starting = !1, this.emit(\"start\")), this;\n    },\n    brush: function () {\n      return this.emit(\"brush\"), this;\n    },\n    end: function () {\n      return 0 == --this.active && (delete this.state.emitter, this.emit(\"end\")), this;\n    },\n    emit: function (e) {\n      customEvent(new BrushEvent(o, e, t.output(this.state.selection)), a.apply, a, [e, this.that, this.args]);\n    }\n  }, o.extent = function (t) {\n    return arguments.length ? (n = \"function\" == typeof t ? t : constant$1([[+t[0][0], +t[0][1]], [+t[1][0], +t[1][1]]]), o) : n;\n  }, o.filter = function (t) {\n    return arguments.length ? (i = \"function\" == typeof t ? t : constant$1(!!t), o) : i;\n  }, o.handleSize = function (t) {\n    return arguments.length ? (r = +t, o) : r;\n  }, o.on = function () {\n    var t = a.on.apply(a, arguments);\n    return t === a ? o : t;\n  }, o;\n}\n\nfunction addBrush(t, e, n, i, a, r, o, s) {\n  return brushX().handleSize(a).extent([[0, 0], [t - o, e - s + r / 2]]).on(\"brush\", n).on(\"end\", i);\n}\n\nfunction addBrushArea(t, e) {\n  var n = e.select(\"g.brush\");\n  return n.empty() && (n = e.append(\"g\")).attr(\"class\", \"brush\"), n.call(t), n;\n}\n\nfunction addCustomHandles(t, e, n, i) {\n  var a = t.select(\"line.bottomline\");\n  a.empty() && (a = t.append(\"line\").attr(\"class\", \"bottomline\").attr(\"stroke-width\", 4).style(\"opacity\", 0).attr(\"pointer-events\", \"none\")), a.attr(\"y1\", i(0)).attr(\"y2\", i(0));\n  var r = t.selectAll(\".handle--wrapper\"),\n      o = Math.floor((e - 2) / 2);\n\n  if (r.empty()) {\n    (r = r.data([{\n      type: \"w\"\n    }, {\n      type: \"e\"\n    }]).enter().append(\"g\").attr(\"class\", \"handle--wrapper\")).append(\"rect\").attr(\"class\", \"handle--custom\").attr(\"width\", e).attr(\"height\", n).attr(\"rx\", 1).attr(\"ry\", 1);\n\n    for (var s = r.append(\"g\").attr(\"class\", \"handle--grab\"), l = 0; l < 3; l++) s.append(\"line\").attr(\"transform\", \"translate(0 \" + (n / 2 - 2) + \")\").attr(\"x1\", o).attr(\"y1\", 2 * l).attr(\"x2\", e - o).attr(\"y2\", 2 * l).attr(\"class\", \"grab-line\");\n  }\n\n  return r;\n}\n\nvar brushService = {\n  addBrush: addBrush,\n  addBrushArea: addBrushArea,\n  addCustomHandles: addCustomHandles\n};\n\nfunction binsScale(t) {\n  return linear().domain(getXDomain(t)).range([0, t.length]);\n}\n\nfunction getXDomain(t) {\n  return [(t.length > 0 ? t[0] : {\n    start: 0\n  }).start, (t.length > 0 ? t[t.length - 1] : {\n    end: 0\n  }).end];\n}\n\nfunction getYDomain(t) {\n  return [Math.min(0, getLowerBounds(t)), max(t, function (t) {\n    return t.value;\n  })];\n}\n\nfunction getLowerBounds(t) {\n  return min(t, function (t) {\n    return t.value;\n  });\n}\n\nfunction getXScale(t, e) {\n  return linear().domain(t).range([0, e]);\n}\n\nfunction isCategoricalData(t) {\n  return t.every(_hasCategory);\n}\n\nfunction prepareData(t) {\n  var e = t.every(_hasRange);\n  return t.map(function (t, n) {\n    var i = Object.assign({}, t);\n    return e || (i.start = n, i.end = n + 1), i;\n  });\n}\n\nfunction _hasCategory(t) {\n  return void 0 !== t.category;\n}\n\nfunction _hasRange(t) {\n  return void 0 !== t.start && void 0 !== t.end;\n}\n\nfunction isBackgroundCompatible(t, e) {\n  var n = [t, e].map(function (t) {\n    return null === t;\n  });\n  if (n[0] !== n[1]) return !1;\n  if (n[0] && n[1]) return !0;\n  if (t.length !== e.length) return !0;\n\n  for (var i = t.every(_hasCategory), a = t.every(_hasRange), r = 0; r < t.length; r++) {\n    if (a && (e[r].start !== t[r].start || e[r].end !== t[r].end)) return !1;\n    if (i && e[r].category !== t[r].category) return !1;\n  }\n\n  return !0;\n}\n\nvar dataService = {\n  getLowerBounds: getLowerBounds,\n  getXDomain: getXDomain,\n  getXScale: getXScale,\n  getYDomain: getYDomain,\n  isBackgroundCompatible: isBackgroundCompatible,\n  isCategoricalData: isCategoricalData,\n  prepareData: prepareData\n},\n    BAR_WIDTH_THRESHOLD = 3,\n    formatter = format(\".2~s\"),\n    decimalFormatter = format(\".2\");\n\nfunction cleanAxes(t) {\n  t.select(\".domain\").remove();\n}\n\nfunction updateAxes(t, e, n, i, a, r, o) {\n  var s = t.select(\".xAxis\"),\n      l = t.select(\".yAxis\");\n  n.domain(o).nice(), e.domain(r), s.call(i), l.call(a);\n}\n\nfunction renderPlot(t) {\n  if (t.select(\".plot\").empty()) {\n    var e = t.append(\"g\");\n    return e.attr(\"class\", \"plot\"), e;\n  }\n\n  return t.select(\".plot\");\n}\n\nfunction renderBars(t, e, n, i, a, r, o, s, l) {\n  if (void 0 === s && (s = !1), void 0 === l && (l = \"\"), n && n.node()) {\n    var c = 1,\n        h = n.node().getBoundingClientRect().height - o,\n        u = n.node().getBoundingClientRect().width - r,\n        d = 0 === (t = null === t ? [] : t).length ? u : u / t.length;\n    d - c < BAR_WIDTH_THRESHOLD && (c = 0), this.bars = i.selectAll(\"rect.\" + l).data(t), this.bars.exit().remove().transition().duration(200);\n    var p = this.bars.enter().append(\"rect\").attr(\"y\", h).attr(\"height\", 0).merge(this.bars).attr(\"class\", \"bar \" + l).attr(\"x\", function (t, e) {\n      return e * d;\n    }).attr(\"width\", function () {\n      return Math.max(0, d - c);\n    }).style(\"fill\", function (t) {\n      return t.color || a;\n    }),\n        m = e.domain()[0],\n        g = e(Math.max(0, m));\n    (s ? p : p.transition().delay(_delayFn)).attr(\"height\", function (t) {\n      return Math.abs(e(t.value) - g);\n    }).attr(\"y\", function (t) {\n      return t.value > 0 ? e(t.value) : g;\n    }), (s ? this.bars : this.bars.transition().delay(_delayFn)).attr(\"height\", function (t) {\n      return Math.abs(e(t.value) - g);\n    }).attr(\"y\", function (t) {\n      return t.value > 0 ? e(t.value) : g;\n    });\n  }\n}\n\nfunction renderXAxis(t, e, n, i, a, r, o) {\n  if (void 0 === r && (r = conditionalFormatter), t && t.node()) {\n    var s,\n        l = t.node().getBoundingClientRect().height - a,\n        c = t.node().getBoundingClientRect().width - i,\n        h = [0, n / 2, n],\n        u = void 0 !== o.padding ? o.padding : 13,\n        d = void 0 !== o.ticks ? o.ticks : h.length,\n        p = linear().domain([0, n]).range([0, c]),\n        m = linear().domain(e).range([0, n]);\n\n    if (o.values || o.format) {\n      var g = linear().domain(e).range([0, c]);\n      s = axisBottom(g).tickValues(o.values || null).tickFormat(o.format || r);\n    } else s = axisBottom(p).tickValues(void 0 !== d ? null : h).tickFormat(function (t) {\n      var e = m.invert(t);\n      return r(e);\n    });\n\n    return s.tickSize(-l).tickPadding(u).ticks(d), t.select(\".x-axis\").empty() ? t.append(\"g\").attr(\"class\", \"x-axis\").attr(\"transform\", \"translate(0, \" + l + \")\").call(s) : t.select(\".x-axis\").attr(\"transform\", \"translate(0, \" + l + \")\").call(s), t.selectAll(\".x-axis text\").attr(\"transform\", function (t, e, n) {\n      var i = n[e].getBoundingClientRect().width,\n          a = 0;\n      return 0 === e ? a = i / 2 : e === n.length - 1 && (a = -i / 2), \"translate(\" + a + \")\";\n    }).attr(\"opacity\", function (t, e, n) {\n      if (0 === e || e === n.length - 1) return 1;\n\n      for (var i = 0, a = 0, r = n; a < r.length; a++) i += r[a].getBoundingClientRect().width;\n\n      return c - i < 0 ? 0 : 1;\n    }), s;\n  }\n}\n\nfunction renderYAxis(t, e, n) {\n  t && t.node() && (t.select(\".y-axis\").empty() ? t.append(\"g\").attr(\"class\", \"y-axis\").call(e) : t.select(\".y-axis\").call(e), t.select(\".y-axis\").append(\"g\").attr(\"class\", \"tick\").attr(\"opacity\", \"1\").attr(\"transform\", \"translate(0,\" + e.scale()(0) + \")\").append(\"line\").attr(\"shape-rendering\", \"crisp\").attr(\"stroke\", \"#000\").attr(\"class\", \"zero\").attr(\"x2\", t.node().getBoundingClientRect().width - n));\n}\n\nfunction generateYScale(t, e, n, i, a) {\n  if (t && t.node()) {\n    var r = t.node().getBoundingClientRect().height - i,\n        o = t.node().getBoundingClientRect().width - n,\n        s = void 0 !== a.ticks ? a.ticks : 5,\n        l = void 0 !== a.padding ? a.padding : 10,\n        c = linear().domain(e).range([r, 0]);\n    return axisLeft(c).tickSize(-o).ticks(s).tickPadding(l).tickFormat(a.format || conditionalFormatter).tickValues(a.values || null);\n  }\n}\n\nfunction _delayFn(t, e) {\n  return e;\n}\n\nfunction conditionalFormatter(t) {\n  return t > 0 && t < 1 ? decimalFormatter(t) : formatter(t);\n}\n\nvar drawService = {\n  cleanAxes: cleanAxes,\n  conditionalFormatter: conditionalFormatter,\n  generateYScale: generateYScale,\n  renderBars: renderBars,\n  renderPlot: renderPlot,\n  renderXAxis: renderXAxis,\n  renderYAxis: renderYAxis,\n  updateAxes: updateAxes\n};\n\nfunction addTooltip(t, e, n, i, a, r, o, s) {\n  t.on(\"mousemove\", function () {\n    var t = event,\n        l = !1;\n    _forEachRect(e, t.clientX, t.clientY, s, function (e, s, c) {\n      var h = _isSelected(n.selection, c) ? e.color || i : a;\n      h = shadeOrBlend(-.16, h), s.style(\"fill\", h), o(r(e), t), l = !0;\n    }, function (t, e, r) {\n      var o = _isSelected(n.selection, r);\n\n      e.style(\"fill\", o ? t.color || i : a);\n    }), l || o(null);\n  }).on(\"click\", function () {\n    _forEachRect(e, event.clientX, event.clientY, s, function (t) {\n      n.setSelection([t.start, t.end], !0);\n    });\n  }).on(\"mouseleave\", function () {\n    o(null), e.selectAll(\"rect.\" + s).style(\"fill\", function (t, e) {\n      return _isSelected(n.selection, e) ? t.color || i : a;\n    });\n  });\n}\n\nfunction _isSelected(t, e) {\n  return null === t || e >= t[0] && e < t[1];\n}\n\nfunction _forEachRect(t, e, n, i, a, r) {\n  t.selectAll(\"rect.\" + i).each(function (t, i, o) {\n    var s = select(o[i]),\n        l = o[i].getBoundingClientRect();\n    l.left <= e && e <= l.right && l.top <= n && n <= l.bottom ? a(t, s, i) : r && r(t, s, i);\n  });\n}\n\nvar interactionService = {\n  addTooltip: addTooltip\n},\n    CUSTOM_HANDLE_WIDTH = 8,\n    CUSTOM_HANDLE_HEIGHT = 20,\n    X_PADDING = 38,\n    Y_PADDING = 40,\n    LABEL_PADDING = 25,\n    FG_CLASSNAME = \"foreground-bar\",\n    BG_CLASSNAME = \"background-bar\",\n    HistogramWidget = function () {\n  function t() {\n    this.showHeader = !0, this.disableInteractivity = !1, this.data = [], this.backgroundData = null, this.color = DEFAULT_BAR_COLOR, this.unselectedColor = DEFAULT_BACKGROUND_BAR_COLOR, this.tooltipFormatter = this.defaultFormatter, this.isLoading = !1, this.error = \"\", this.errorDescription = \"\", this.noDataHeaderMessage = \"NO DATA AVAILABLE\", this.noDataBodyMessage = \"There is no data to display.\", this.responsive = !0, this.clearText = \"Clear selection\", this.selectedFormatter = this._selectionFormatter, this.range = null, this.disableAnimation = !1, this.xAxisOptions = {}, this.yAxisOptions = {}, this.selection = null, this.tooltip = null, this._muteSelectionChanged = !1, this._lastEmittedSelection = null, this.selectionEmpty = !0, this.selectionFooter = \"\", this._resizeRender = this._resizeRender.bind(this);\n  }\n\n  return t.prototype._onBackgroundDataChanged = function (t) {\n    null !== t && 0 !== t.length ? isBackgroundCompatible(this.data, t) && this._prepareData(this.data, t) : this._prepareData(this.data, null);\n  }, t.prototype._onDataChanged = function (t, e) {\n    this._lastEmittedSelection = null, isBackgroundCompatible(t, this.backgroundData) ? this._prepareData(this.data, this.backgroundData, e) : this._prepareData(this.data, null, e);\n  }, t.prototype._prepareData = function (t, e, n) {\n    this._data = prepareData(t), this._backgroundData = null === e ? this._mockBackgroundData(t) : prepareData(e);\n    var i = binsScale(this._data),\n        a = !!this.isCategoricalData;\n    this.isCategoricalData = isCategoricalData(this._data), this.selection = a !== this.isCategoricalData ? null : this._preadjustSelection(n, i, t.length), this.binsScale = i, this._muteSelectionChanged = !0, this._dataJustChanged = !0;\n  }, t.prototype._onColorChanged = function (t) {\n    this._color = this._toColor(t || DEFAULT_BAR_COLOR, DEFAULT_BAR_COLOR_HEX);\n  }, t.prototype._onSelectedColorChanged = function (t) {\n    this._barBackgroundColor = this._toColor(t || DEFAULT_BACKGROUND_BAR_COLOR, DEFAULT_BACKGROUND_BAR_COLOR_HEX);\n  }, t.prototype.defaultFormatter = function (t) {\n    var e = [];\n    return this.isCategoricalData && e.push(\"\" + t.category), e.push(\"\" + readableNumber(t.value).trim()), e;\n  }, t.prototype.getSelection = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var t;\n      return tslib_1.__generator(this, function (e) {\n        return t = this._dataForSelection(this.selection), [2, this._simplifySelection(t)];\n      });\n    });\n  }, t.prototype.setSelection = function (t, e) {\n    if (void 0 === e && (e = !1), null === t) return this._setSelection(null), void this.emitSelection(this.selectionChanged, this.selection);\n\n    if (!t.some(function (t) {\n      return \"string\" == typeof t;\n    })) {\n      var n = t.map(this.binsScale);\n      this._setSelection(n), !e && this._muteSelectionChanged || this.emitSelection(this.selectionChanged, this.selection);\n    }\n  }, t.prototype.clearSelection = function () {\n    this.setSelection(null);\n  }, t.prototype.xFormatter = function (t) {\n    return this.axisFormatter ? this.axisFormatter(t) : t;\n  }, t.prototype.componentDidLoad = function () {\n    var t = this;\n    this._color = this._toColor(this.color, DEFAULT_BAR_COLOR_HEX), this._barBackgroundColor = this._toColor(this.unselectedColor, DEFAULT_BACKGROUND_BAR_COLOR_HEX), this._hasDataToDisplay() && (this.isCategoricalData = isCategoricalData(this._data), requestAnimationFrame(function () {\n      t._renderGraph();\n    }));\n  }, t.prototype.componentDidUpdate = function () {\n    this._skipRender && !this._dataJustChanged || this._renderGraph(), this._skipRender = !1, this._dataJustChanged = !1;\n  }, t.prototype.componentWillLoad = function () {\n    addEventListener(\"resize\", this._resizeRender), this.selectionFooter = this.selectedFormatter(this.selection), this._onBackgroundDataChanged(this.backgroundData), this._onDataChanged(this.data, null);\n  }, t.prototype.componentDidUnload = function () {\n    removeEventListener(\"resize\", this._resizeRender);\n  }, t.prototype.render = function () {\n    return [this._renderHeader(), this._renderSelection(), this._renderContent()];\n  }, t.prototype._resizeRender = function () {\n    var t = this;\n    requestAnimationFrame(function () {\n      t._renderGraph();\n    });\n  }, t.prototype._renderContent = function () {\n    var t = this,\n        e = {\n      \"as-histogram-widget--categorical\": this.isCategoricalData,\n      \"as-histogram-widget__wrapper\": !0,\n      \"as-histogram-widget__wrapper--disabled\": this.disableInteractivity\n    },\n        n = {\n      figure: !0,\n      \"figure--has-x-label\": this.xLabel,\n      \"figure--has-y-label\": this.yLabel\n    };\n    return contentFragment(this.isLoading, this.error, this._isEmpty(), this.heading, this.errorDescription, this.noDataBodyMessage, h(\"div\", {\n      class: e\n    }, h(\"svg\", {\n      class: n,\n      ref: function (e) {\n        return t.container = select(e);\n      }\n    }), this._renderLabels(), this._renderTooltip()));\n  }, t.prototype._mockBackgroundData = function (t) {\n    var e = dataService.getLowerBounds(t);\n    return t.map(function (t) {\n      return Object.assign({}, t, {\n        value: Math.max(0, e)\n      });\n    });\n  }, t.prototype._selectionFormatter = function (t) {\n    return null === t ? \"All selected\" : this.isCategoricalData ? t[1] - t[0] + \" selected\" : \"Selected from \" + (e = t.map(this.binsScale.invert).map(this.axisFormatter ? this.axisFormatter : function (t) {\n      return \"\" + conditionalFormatter(t);\n    }))[0] + \" to \" + e[1];\n    var e;\n  }, t.prototype._renderSelection = function () {\n    var t = this;\n    return this.isLoading || this._isEmpty() || this.error || !this.showClear ? \"\" : h(\"as-widget-selection\", {\n      selection: this.selectionFooter,\n      clearText: this.clearText,\n      showClear: !this.selectionEmpty,\n      onClear: function () {\n        return t.clearSelection();\n      }\n    });\n  }, t.prototype._renderGraph = function () {\n    var t = this;\n\n    if (this.container && this.container.node()) {\n      var e = this.container.node().getBoundingClientRect(),\n          n = void 0 === this.prevWidth || void 0 === this.prevHeight;\n      this.prevWidth = this.width, this.prevHeight = this.height, this.width = e.width, this.height = e.height;\n      var i = !n && (this.prevWidth !== this.width || this.height !== this.prevHeight);\n      0 !== this.height && 0 !== this.width && (this._generateYAxis(), this._renderXAxis(), this.barsContainer = drawService.renderPlot(this.container), interactionService.addTooltip(this.container, this.barsContainer, this, this._color, this._barBackgroundColor, function (e) {\n        return t.tooltipFormatter(e);\n      }, this._setTooltip.bind(this), FG_CLASSNAME), drawService.renderBars(this._backgroundData, this.yScale, this.container, this.barsContainer, this._barBackgroundColor, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING, this.disableAnimation || i, BG_CLASSNAME), drawService.renderBars(this._data, this.yScale, this.container, this.barsContainer, this._color, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING, this.disableAnimation || i, FG_CLASSNAME), drawService.renderYAxis(this.container, this.yAxis, X_PADDING), this.disableInteractivity || (this.brush = brushService.addBrush(this.width, this.height, this._onBrush.bind(this), this._onBrushEnd.bind(this), CUSTOM_HANDLE_WIDTH, CUSTOM_HANDLE_HEIGHT, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING), this.brushArea = brushService.addBrushArea(this.brush, this.container), this.customHandles = brushService.addCustomHandles(this.brushArea, CUSTOM_HANDLE_WIDTH, CUSTOM_HANDLE_HEIGHT, this.yScale)), this._updateSelection(), this.drawParametersChanged.emit({\n        binsScale: this.binsScale,\n        container: this.container,\n        handleWidth: CUSTOM_HANDLE_WIDTH,\n        height: this.height,\n        padding: [X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING],\n        width: this.width,\n        xScale: this.xScale\n      }), this._muteSelectionChanged = !1);\n    }\n  }, t.prototype._setTooltip = function (t, e) {\n    this._muteSelectionChanged = !0, null !== t ? (this._skipRender = !0, this.tooltip = t, this._showTooltip(e)) : this._hideTooltip();\n  }, t.prototype._updateSelection = function () {\n    null === this.selection || this.disableInteractivity || (this._selectionInData(this.selection) ? this._setSelection(this.selection) : this.clearSelection());\n  }, t.prototype._adjustSelection = function (t) {\n    var e = this;\n    return null === t ? null : t.map(function (t) {\n      return e._adjustSelectionValue(t);\n    });\n  }, t.prototype._adjustSelectionValue = function (t) {\n    return t < 0 ? 0 : t >= this._data.length ? this._data.length : Math.round(t);\n  }, t.prototype._hideCustomHandles = function () {\n    this.customHandles.style(\"opacity\", 0), this.brushArea.selectAll(\".bottomline\").style(\"opacity\", 0);\n  }, t.prototype._onBrush = function () {\n    var t = this;\n    if (!this.disableInteractivity) if (null !== event.selection) {\n      if (event.sourceEvent && \"brush\" !== event.sourceEvent.type) {\n        var e = event.selection.map(function (e) {\n          return t.xScale.invert(e);\n        });\n\n        this._setSelection(e);\n      }\n    } else this._hideCustomHandles();\n  }, t.prototype._onBrushEnd = function () {\n    this.disableInteractivity || this._muteSelectionChanged || this.emitSelection(this.selectionChanged, this.selection);\n  }, t.prototype._setSelection = function (t) {\n    if (!this.disableInteractivity) {\n      var e = this._adjustSelection(t);\n\n      if (null === e || e[0] !== e[1]) {\n        var n = null !== this.selection && null !== e && this.selection.every(function (t, n) {\n          return e[n] === t;\n        });\n        this.selection = e, this._updateHandles(e), n || (this._hideTooltip(), this.emitSelection(this.selectionInput, this.selection)), this.selectionEmpty = null === this.selection, this.selectionFooter = this.selectedFormatter(this.selection);\n      }\n    }\n  }, t.prototype._preadjustSelection = function (t, e, n) {\n    var i = this;\n    if (!t || !this.selection) return this.selection;\n\n    if (this.isCategoricalData) {\n      var a = this._simplifySelection(this._dataForSelection(this.selection, t)).map(function (t) {\n        return i._data.findIndex(function (e) {\n          return e.category === t;\n        });\n      });\n\n      return a.some(function (t) {\n        return -1 === t;\n      }) ? null : [a[0], a[a.length - 1] + 1];\n    }\n\n    var r = this._simplifySelection(this._dataForSelection(this.selection, t)).map(e).map(Math.round);\n\n    return [Math.max(0, r[0]), Math.min(n, r[1])];\n  }, t.prototype._dataForSelection = function (t, e) {\n    if (null === t) return null;\n    var n = void 0 !== e ? e : this.data;\n    return this.isCategoricalData ? n.slice(t[0], t[1]).map(function (t) {\n      return t;\n    }) : [n[t[0]], n[t[1] - 1]];\n  }, t.prototype._simplifySelection = function (t) {\n    return null === t ? null : this.isCategoricalData ? t.map(function (t) {\n      return t.category;\n    }) : [t[0].start, t[t.length - 1].end];\n  }, t.prototype._sameSelection = function (t, e) {\n    return null !== t && null !== e && t[0] === e[0] && t[1] === e[1];\n  }, t.prototype.emitSelection = function (t, e) {\n    if (!this._sameSelection(e, this._lastEmittedSelection)) if (null !== e) {\n      var n = this._dataForSelection(e),\n          i = {\n        payload: n,\n        selection: this._simplifySelection(n),\n        type: this._eventType()\n      };\n\n      t.emit(i), t === this.selectionChanged && (this._lastEmittedSelection = [e[0], e[1]]);\n    } else t.emit(null);\n  }, t.prototype._eventType = function () {\n    return this.isCategoricalData ? \"categorical\" : \"continuous\";\n  }, t.prototype._selectionInData = function (t) {\n    var e = this;\n    return t.map(this.binsScale.invert).map(function (t) {\n      return e._data.some(function (e) {\n        return t >= e.start && t <= e.end;\n      });\n    }).some(function (t) {\n      return t;\n    });\n  }, t.prototype._updateHandles = function (t) {\n    var e = this;\n\n    if (this.xScale) {\n      if (null === t) return this.barsContainer.selectAll(\"rect.\" + FG_CLASSNAME).style(\"fill\", function (t, n) {\n        return e._data[n].color || e._color;\n      }), void this.brushArea.call(this.brush.move, null);\n      var n = this.yScale(this.yScale.domain()[0]),\n          i = t.map(this.xScale),\n          a = t.map(this.binsScale.invert);\n      this.brushArea.call(this.brush.move, i), this.customHandles.style(\"opacity\", 1).attr(\"transform\", function (t, e) {\n        return \"translate(\" + (i[e] - CUSTOM_HANDLE_WIDTH / 2 - 1) + \",\" + (n - CUSTOM_HANDLE_HEIGHT / 2) + \")\";\n      }), this.brushArea.selectAll(\".bottomline\").style(\"opacity\", 1).attr(\"stroke-width\", 2).attr(\"x1\", i[0]).attr(\"x2\", i[1]), this.barsContainer.selectAll(\"rect.\" + FG_CLASSNAME).style(\"fill\", function (t, n) {\n        var i = e._data[n];\n        if (i) return a[0] <= i.start && i.end <= a[1] ? i.color || e._color : e._barBackgroundColor;\n      });\n    }\n  }, t.prototype._dataForDomain = function () {\n    return Math.max.apply(window, this._data.map(function (t) {\n      return t.value;\n    })) > Math.max.apply(window, this._backgroundData.map(function (t) {\n      return t.value;\n    })) ? this._data : this._backgroundData;\n  }, t.prototype._generateYAxis = function () {\n    var t = null !== this.range ? this.range : dataService.getYDomain(this._dataForDomain());\n    this.yAxis = drawService.generateYScale(this.container, t, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING, this.yAxisOptions), this.yScale = this.yAxis.scale();\n  }, t.prototype._renderXAxis = function () {\n    var t = dataService.getXDomain(this._data),\n        e = drawService.renderXAxis(this.container, t, this._data.length, X_PADDING + (this.yLabel ? LABEL_PADDING : 0), Y_PADDING, this.axisFormatter, this.xAxisOptions);\n    this.xScale = e.scale();\n  }, t.prototype._getTooltipPosition = function (t, e) {\n    var n = t,\n        i = e,\n        a = window.innerHeight + window.pageYOffset,\n        r = window.innerWidth + window.pageXOffset,\n        o = this.tooltipElement.getBoundingClientRect();\n    return r < t + o.width && (n = t - o.width), a < e + o.height && (i = e - o.height - 25), [n, i];\n  }, t.prototype._showTooltip = function (t) {\n    if (this.tooltipElement) {\n      var e = this._getTooltipPosition(t.clientX, t.clientY),\n          n = e[0],\n          i = e[1];\n\n      select(this.tooltipElement).style(\"display\", \"inline\").style(\"left\", n + \"px\").style(\"top\", i + \"px\");\n    }\n  }, t.prototype._hideTooltip = function () {\n    select(this.tooltipElement).style(\"display\", \"none\");\n  }, t.prototype._renderHeader = function () {\n    if (this.showHeader) return h(\"as-widget-header\", {\n      header: this.heading,\n      subheader: this.description,\n      \"is-loading\": this.isLoading,\n      \"is-empty\": this._isEmpty(),\n      error: this.error,\n      \"no-data-message\": this.noDataHeaderMessage\n    });\n  }, t.prototype._renderTooltip = function () {\n    var t = this;\n    return h(\"span\", {\n      ref: function (e) {\n        return t.tooltipElement = e;\n      },\n      role: \"tooltip\",\n      class: \"as-tooltip as-tooltip--top\"\n    }, this._parseTooltip(this.tooltip));\n  }, t.prototype._parseTooltip = function (t) {\n    var e = this;\n    return null === t ? null : Array.isArray(t) ? t.map(function (t) {\n      return e._renderTooltipLine(t);\n    }) : this._renderTooltipLine(t);\n  }, t.prototype._renderTooltipLine = function (t) {\n    return h(\"div\", null, t);\n  }, t.prototype._renderLabels = function () {\n    return [this.yLabel ? h(\"div\", {\n      class: \"y-label\"\n    }, this.yLabel) : \"\", this.xLabel ? h(\"div\", {\n      class: \"x-label\"\n    }, this.xLabel) : \"\"];\n  }, t.prototype._toColor = function (t, e) {\n    if (t.startsWith(\"var(\")) {\n      var n = t.match(/var\\(([^,\\)]+)(,.+)?\\)/);\n      if (null === n) return e;\n      var i = n[1],\n          a = (n[2] || \"\").replace(\",\", \"\").trim(),\n          r = getComputedStyle(this.el).getPropertyValue(i).toLowerCase().trim();\n      return 0 === r.length ? 0 === a.length ? e : a : r;\n    }\n\n    return t;\n  }, t.prototype._isEmpty = function () {\n    return !this._data || !this._data.length;\n  }, t.prototype._hasDataToDisplay = function () {\n    return !(this.isLoading || this._isEmpty() || this.error);\n  }, Object.defineProperty(t, \"is\", {\n    get: function () {\n      return \"as-histogram-widget\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"properties\", {\n    get: function () {\n      return {\n        axisFormatter: {\n          type: \"Any\",\n          attr: \"axis-formatter\"\n        },\n        backgroundData: {\n          type: \"Any\",\n          attr: \"background-data\",\n          watchCallbacks: [\"_onBackgroundDataChanged\"]\n        },\n        clearSelection: {\n          method: !0\n        },\n        clearText: {\n          type: String,\n          attr: \"clear-text\"\n        },\n        color: {\n          type: String,\n          attr: \"color\",\n          watchCallbacks: [\"_onColorChanged\"]\n        },\n        colorRange: {\n          type: \"Any\",\n          attr: \"color-range\"\n        },\n        data: {\n          type: \"Any\",\n          attr: \"data\",\n          watchCallbacks: [\"_onDataChanged\"]\n        },\n        defaultFormatter: {\n          method: !0\n        },\n        description: {\n          type: String,\n          attr: \"description\"\n        },\n        disableAnimation: {\n          type: Boolean,\n          attr: \"disable-animation\"\n        },\n        disableInteractivity: {\n          type: Boolean,\n          attr: \"disable-interactivity\"\n        },\n        el: {\n          elementRef: !0\n        },\n        error: {\n          type: String,\n          attr: \"error\"\n        },\n        errorDescription: {\n          type: String,\n          attr: \"error-description\"\n        },\n        getSelection: {\n          method: !0\n        },\n        heading: {\n          type: String,\n          attr: \"heading\"\n        },\n        isCategoricalData: {\n          state: !0\n        },\n        isLoading: {\n          type: Boolean,\n          attr: \"is-loading\"\n        },\n        noDataBodyMessage: {\n          type: String,\n          attr: \"no-data-body-message\"\n        },\n        noDataHeaderMessage: {\n          type: String,\n          attr: \"no-data-header-message\"\n        },\n        range: {\n          type: \"Any\",\n          attr: \"range\"\n        },\n        responsive: {\n          type: Boolean,\n          attr: \"responsive\"\n        },\n        selectedFormatter: {\n          type: \"Any\",\n          attr: \"selected-formatter\"\n        },\n        selectionEmpty: {\n          state: !0\n        },\n        selectionFooter: {\n          state: !0\n        },\n        setSelection: {\n          method: !0\n        },\n        showClear: {\n          type: Boolean,\n          attr: \"show-clear\"\n        },\n        showHeader: {\n          type: Boolean,\n          attr: \"show-header\"\n        },\n        tooltip: {\n          state: !0\n        },\n        tooltipFormatter: {\n          type: \"Any\",\n          attr: \"tooltip-formatter\"\n        },\n        unselectedColor: {\n          type: String,\n          attr: \"unselected-color\",\n          watchCallbacks: [\"_onSelectedColorChanged\"]\n        },\n        xAxisOptions: {\n          type: \"Any\",\n          attr: \"x-axis-options\"\n        },\n        xFormatter: {\n          method: !0\n        },\n        xLabel: {\n          type: String,\n          attr: \"x-label\"\n        },\n        yAxisOptions: {\n          type: \"Any\",\n          attr: \"y-axis-options\"\n        },\n        yLabel: {\n          type: String,\n          attr: \"y-label\"\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"events\", {\n    get: function () {\n      return [{\n        name: \"selectionChanged\",\n        method: \"selectionChanged\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }, {\n        name: \"selectionInput\",\n        method: \"selectionInput\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }, {\n        name: \"drawParametersChanged\",\n        method: \"drawParametersChanged\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"style\", {\n    get: function () {\n      return \".as-tooltip{--as--tooltip--background-color:var(--as--color--type-01,#2c2c2c);--as--tooltip--color:var(--as--color--text-contrast,#fff);--as--tooltip--support-color:var(--as--color--white,#fff);--as--tooltip--primary--background-color:var(--as--primary--success,#1785fb);--as--tooltip--primary--color:var(--as--tooltip--support-color);--as--tooltip--secondary--background-color:var(--as--secondary--success,#0f2d53);--as--tooltip--secondary--color:var(--as--tooltip--support-color);--as--tooltip--complementary--background-color:var(--as--complementary--success,#47db99);--as--tooltip--complementary--color:var(--as--tooltip--support-color);--as--tooltip--error--background-color:var(--as--color--error,#f3522b);--as--tooltip--error-color:var(--as--tooltip--support-color);--as--tooltip--warning--background-color:var(--as--color--warning,#fdb32b);--as--tooltip--warning--color:var(--as--tooltip--support-color);--as--tooltip--success--background-color:var(--as--color--success,#80b622);--as--tooltip--success--color:var(--as--tooltip--support-color);display:-ms-inline-flexbox;display:inline-flex;position:relative;padding:4px 8px;border-width:0;border-radius:4px;border-color:var(--as--tooltip--background-color);background:var(--as--tooltip--background-color);color:var(--as--tooltip--color);font:var(--as--font--body)}.as-tooltip:after{content:\\\"\\\";position:absolute;border-width:5px;border-style:solid;border-radius:2px;border-color:inherit}.as-tooltip--top:after{top:100%;left:50%;-webkit-transform:translateY(-6px) translateX(-5px) rotate(45deg);transform:translateY(-6px) translateX(-5px) rotate(45deg)}.as-tooltip--bot:after,.as-tooltip--bottom:after{bottom:100%;left:50%;-webkit-transform:translateY(6px) translateX(-5px) rotate(45deg);transform:translateY(6px) translateX(-5px) rotate(45deg)}.as-tooltip--right:after{top:50%;left:0;-webkit-transform:translateY(-5px) translateX(-4px) rotate(45deg);transform:translateY(-5px) translateX(-4px) rotate(45deg)}.as-tooltip--left:after{top:50%;right:0;-webkit-transform:translateY(-4px) translateX(4px) rotate(45deg);transform:translateY(-4px) translateX(4px) rotate(45deg)}.as-tooltip--primary{border-color:var(--as--tooltip--primary--background-color);background:var(--as--tooltip--primary--background-color);color:var(--as--tooltip--primary--color)}.as-tooltip--secondary{border-color:var(--as--tooltip--secondary--background-color);background:var(--as--tooltip--secondary--background-color);color:var(--as--tooltip--secondary--color)}.as-tooltip--complementary{border-color:var(--as--tooltip--complementary--background-color);background:var(--as--tooltip--complementary--background-color);color:var(--as--tooltip--complementary--color)}.as-tooltip--error{border-color:var(--as--tooltip--error--background-color);background:var(--as--tooltip--error--background-color);color:var(--as--tooltip--error--color)}.as-tooltip--warning{border-color:var(--as--tooltip--warning--background-color);background:var(--as--tooltip--warning--background-color);color:var(--as--tooltip--warning--color)}.as-tooltip--success{border-color:var(--as--tooltip--success--background-color);background:var(--as--tooltip--success--background-color);color:var(--as--tooltip--success--color)}as-histogram-widget{--as--histogram-widget--background-color:var(--as--color--ui-01,#fff);--as--histogram-widget--figure--stroke-color:var(--as--color--secondary,#0f2d53);--as--histogram-widget--figure--text-color:var(--as--color--type-01,#2c2c2c);--as--histogram-widget--label-color:var(--as--color--type-01,#2c2c2c);--as--histogram-widget--label-font:var(--as--font--caption);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;min-width:228px;height:100%;max-height:100%;overflow:auto;background:var(--as--histogram-widget--background-color)}as-histogram-widget .as-histogram-widget__wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;min-height:0}as-histogram-widget .as-histogram-widget--categorical .x-axis{opacity:0}as-histogram-widget .figure{-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex:1;flex:1;width:100%;min-height:0;padding:18px 8px 17px 30px;overflow:visible}as-histogram-widget .figure--has-x-label{margin-bottom:25px}as-histogram-widget .figure--has-y-label{padding-left:55px}as-histogram-widget .figure text{fill:var(--as--histogram-widget--figure--text-color)}as-histogram-widget .figure .brush .selection{stroke:none;fill:none}as-histogram-widget .figure .foreground-bar{cursor:pointer}as-histogram-widget .figure .y-axis{--widget-axis-text-color:var(--as--color--type-01,#2c2c2c);--widget-axis-line-color:var(--as--color--ui-05,#b3b3b3)}as-histogram-widget .figure .y-axis .tick text{width:30px;fill:var(--widget-axis-text-color);white-space:pre}as-histogram-widget .figure .y-axis .tick line{stroke:var(--widget-axis-line-color);opacity:.1}as-histogram-widget .figure .y-axis .tick line.zero{opacity:.5}as-histogram-widget .figure .x-axis .domain,as-histogram-widget .figure .x-axis .tick line,as-histogram-widget .figure .y-axis .domain{display:none}as-histogram-widget .figure .handle--wrapper{opacity:0}as-histogram-widget .figure .handle--custom{stroke-linecap:round;stroke:var(--as--histogram-widget--figure--stroke-color);fill:#fff;cursor:ew-resize;pointer-events:none}as-histogram-widget .figure .grab-line{stroke:#ccc}as-histogram-widget .figure .bottomline{stroke:var(--as--histogram-widget--figure--stroke-color)}as-histogram-widget .as-histogram-widget__wrapper--disabled svg .bar{cursor:inherit}as-histogram-widget .as-histogram-widget__footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;margin-top:8px}as-histogram-widget .as-histogram-widget__selection{margin:0}as-histogram-widget .x-label,as-histogram-widget .y-label{color:var(--as--histogram-widget--label-color);font:var(--as--histogram-widget--label-font);text-align:center}as-histogram-widget .x-label{position:absolute;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}as-histogram-widget .y-label{position:absolute;top:50%;left:0;margin-left:4px;-webkit-transform:rotate(-90deg) translate(-50%);transform:rotate(-90deg) translate(-50%);-webkit-transform-origin:0 0;transform-origin:0 0}as-histogram-widget [role=tooltip]{display:none;position:fixed;-webkit-transform:translate(-50%,-120%);transform:translate(-50%,-120%);pointer-events:none}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t;\n}(),\n    ALERT_FILL = \"M15.2005128,16 L0.800287177,16 C0.522682827,16 0.265878803,15.8556807 0.119476508,15.6199592 C-0.0269257857,15.3826341 -0.0389259738,15.088383 0.0842759568,14.8390314 L7.28438879,0.40710071 C7.55559304,-0.135700237 8.44440696,-0.135700237 8.71561121,0.40710071 L15.915724,14.8390314 C16.038926,15.088383 16.0269258,15.3818323 15.8805235,15.6199592 C15.7349212,15.8564825 15.4781172,16 15.2005128,16 Z M7,6 L7,11 L9,11 L9,6 L7,6 Z M8.70710729,12.2928927 C8.31657968,11.9023691 7.68341632,11.9023691 7.29289271,12.2928927 C6.9023691,12.6834203 6.9023691,13.3165837 7.29289271,13.7071073 C7.68342032,14.0976309 8.31658368,14.0976309 8.70710729,13.7071073 C9.0976309,13.3165797 9.0976309,12.6834163 8.70710729,12.2928927 Z\",\n    ALERT = \"M15.2005128,16 L0.800287177,16 C0.522682827,16 0.265878803,15.8556807 0.119476508,15.6199592 C-0.0269257857,15.3826341 -0.0389259738,15.088383 0.0842759568,14.8390314 L7.28438879,0.40710071 C7.55559304,-0.135700237 8.44440696,-0.135700237 8.71561121,0.40710071 L15.915724,14.8390314 C16.038926,15.088383 16.0269258,15.3818323 15.8805235,15.6199592 C15.7349212,15.8564825 15.4781172,16 15.2005128,16 Z M2.09470746,14.3964522 L13.9060926,14.3964522 L8.00040001,2.5598637 L2.09470746,14.3964522 Z M7,6 L9,6 L9,11 L7,11 L7,6 Z M8.70710729,12.2928927 C9.0976309,12.6834163 9.0976309,13.3165797 8.70710729,13.7071073 C8.31658368,14.0976309 7.68342032,14.0976309 7.29289271,13.7071073 C6.9023691,13.3165837 6.9023691,12.6834203 7.29289271,12.2928927 C7.68341632,11.9023691 8.31657968,11.9023691 8.70710729,12.2928927 Z\",\n    ARROW_DOWN = \"M 8.8620002,1.5286665 V 11.919334 l 1.5286668,-1.528667 0.942667,0.942667 -3.1380005,3.138 -3.138,-3.138 0.942667,-0.942667 1.5286663,1.528667 V 1.5286665 Z\",\n    ARROW_LEFT = \"M4.276,7.3333333 5.8046667,5.8046667 4.862,4.862 1.724,8 4.862,11.138 5.8046667,10.195333 4.276,8.6666667 H 14.666667 V 7.3333333 Z\",\n    ARROW_RIGHT = \"M12.114667,7.3333333 10.586,5.8046667 11.528667,4.862 14.666667,8 11.528667,11.138 10.586,10.195333 12.114667,8.6666667 H 1.724 V 7.3333333 Z\",\n    ARROW_UP = \"M 8.8620002,14.471334 V 4.0806665 l 1.5286668,1.5286667 0.942667,-0.9426667 -3.1380005,-3.138 -3.138,3.138 0.942667,0.9426667 1.5286663,-1.5286667 V 14.471334 Z\",\n    CHEVRON_DOWN = \"M1.3339844,4 0.98046875,4.3535156 0,5.3339844 8,13.333984 16,5.3339844 14.666016,4 8,10.666016 Z\",\n    CHEVRON_LEFT = \"M 12.666992,14.666016 12.313476,15.019531 11.333008,16 l -8,-8 8,-8 1.333984,1.333984 L 6.000976,8 Z\",\n    CHEVRON_RIGHT = \"M 3.333008,14.666016 3.686524,15.019531 4.666992,16 l 8,-8 -8,-8 L 3.333008,1.333984 9.999024,8 Z\",\n    CHEVRON_UP = \"M1.3339844,13.333984 0.98046875,12.980468 0,12 8,4 16,12 14.666016,13.333984 8,6.667968 Z\",\n    CLOSE = \"M 14,2.9743406 13.024979,2 8.0003445,7.0253649 2.9750215,2 2,2.9743406 7.025323,7.9997055 2,13.02507 2.9750215,13.999411 8.0003445,8.974046 13.024979,13.999411 14,13.02507 8.974677,7.9997055 Z\",\n    FACEBOOK = \"M12,7 L9,7 C9.15401766,7.25882085 8.99420316,7.42198953 9,8 L9,16 L6,16 L6,8 C6.14037278,7.42198953 5.98055828,7.25882085 6,7 L4,7 L4,5 L6,5 C5.98055828,5.07352606 6.14037278,4.91035739 6,5 L6,3 C6.14037278,1.97186433 6.5270668,-1.45661261e-13 9,-1.45661261e-13 L12,0 L12,2 L10,2 C9.57495764,2.15251537 8.99420316,2.45918507 9,3 L9,5 C8.99420316,4.91035739 9.15401766,5.07352606 9,5 L12,5 L12,7 Z\",\n    HAMBURGER = \"M3.33333333,10.6666667 L12.6666667,10.6666667 L12.6666667,12.6666667 L3.33333333,12.6666667 L3.33333333,10.6666667 Z M3.33333333,7.33333333 L12.6666667,7.33333333 L12.6666667,9.33333333 L3.33333333,9.33333333 L3.33333333,7.33333333 Z M3.33333333,4 L12.6666667,4 L12.6666667,6 L3.33333333,6 L3.33333333,4 Z\",\n    HOME = \"M12.1997272,15 L3.80008915,15 C3.4137058,15 3.10011931,14.6860861 3.10011931,14.2992993 L3.10011931,9.39439439 L2.40014947,9.39439439 C1.83247394,9.39439439 1.32499581,9.05525526 1.10730519,8.52972973 C0.88961457,8.0035035 1.00930941,7.4044044 1.41039213,7.0022022 L7.01085078,1.40990991 C7.27473941,1.14574575 7.62612427,1 7.99990816,1 C8.37369205,1 8.72507691,1.14574575 8.98966551,1.41061061 L14.5887242,7.0015015 C14.9905069,7.4037037 15.1102017,8.0035035 14.8932111,8.52832833 C14.6769204,9.05455455 14.1687423,9.39439439 13.5996668,9.39439439 L12.899697,9.39439439 L12.899697,14.2992993 C12.899697,14.6853854 12.5861105,15 12.1997272,15 Z M4.50005898,13.5985986 L11.4997573,13.5985986 L11.4997573,8.69369369 C11.4997573,8.30690691 11.8133438,7.99299299 12.1997272,7.99299299 L13.5996668,7.99299299 L8.00060813,2.4014014 L2.3994495,7.99299299 L3.80008915,7.99299299 C4.18647249,7.99299299 4.50005898,8.30690691 4.50005898,8.69369369 L4.50005898,13.5985986 Z\",\n    INFO = \"M8,15 C4.1402,15 1,11.8605 1,8 C1,4.1409 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8605 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M8.7,10.1 L10.1,10.1 L10.1,11.5 L5.9,11.5 L5.9,10.1 L7.3,10.1 L7.3,8 L6.6,8 L6.6,6.6 L8,6.6 C8.3871,6.6 8.7,6.9136 8.7,7.3 L8.7,10.1 Z M8.61873,4.581284 C8.9604385,4.9229925 8.9604385,5.477011 8.61873,5.818723 C8.2770215,6.1604315 7.723003,6.1604315 7.381291,5.818723 C7.0395825,5.4770145 7.0395825,4.922996 7.381291,4.581284 C7.7229995,4.2395755 8.277018,4.2395755 8.61873,4.581284 Z\",\n    LINKEDIN = \"M15,15 L12,15 L12,10 C11.9901246,9.17953506 11.519306,8.35524227 10,8 C9.69208185,8.35524227 9.25169039,8.91149286 9,9 C8.96983986,9.63999627 8.98185053,9.90803847 9,10 L9,15 L6,15 C6,15 6.03843416,6.82849407 6,6 L9,6 L9,7 C9.15800712,6.87302773 10.1108541,6 12,6 C13.5178826,6 15,7.28223322 15,10 L15,15 L15,15 Z M2,5 L2,5 C1.58001988,5 1,4.3390383 1,4 C1,2.64710676 1.597167,2 3,2 C3.42147117,2 3.98210736,2.64547677 4,3 C4,4.33659332 3.42147117,5 2,5 L2,5 L2,5 Z M1,6 L4,6 L4,15 L1,15 L1,6 L1,6 Z\",\n    MAGNIFY = \"M14.5420063,13.4106724 L11.6220048,10.4900042 C12.2753385,9.60533714 12.666672,8.51600326 12.666672,7.333336 C12.666672,4.39266786 10.2740041,2 7.333336,2 C4.39266786,2 2,4.39266786 2,7.333336 C2,10.2740041 4.39266786,12.666672 7.333336,12.666672 C8.49133658,12.666672 9.56133711,12.2913385 10.4366709,11.6620048 L13.3640057,14.5893396 L14.5420063,13.4106724 Z M3.333334,7.333336 C3.333334,5.1273349 5.1273349,3.333334 7.333336,3.333334 C9.5393371,3.333334 11.333338,5.1273349 11.333338,7.333336 C11.333338,9.5393371 9.5393371,11.333338 7.333336,11.333338 C5.1273349,11.333338 3.333334,9.5393371 3.333334,7.333336 Z\",\n    MARKER = \"M8,8 C6.89733333,8 6,7.10266667 6,6 C6,4.89733333 6.89733333,4 8,4 C9.10266667,4 10,4.89733333 10,6 C10,7.10266667 9.10266667,8 8,8 Z M8,5.33333333 C7.63266667,5.33333333 7.33333333,5.63266667 7.33333333,6 C7.33333333,6.368 7.63266667,6.66666667 8,6.66666667 C8.36733333,6.66666667 8.66666667,6.368 8.66666667,6 C8.66666667,5.63266667 8.36733333,5.33333333 8,5.33333333 Z M8,15 C6.315,12.8681957 3,8.40813858 3,5.741859 C3,3.12706247 5.24285714,1 8,1 C10.7571429,1 13,3.12706247 13,5.741859 C13,8.40813858 9.685,12.8688731 8,15 Z M8,2.35481686 C6.03071429,2.35481686 4.42857143,3.87424396 4.42857143,5.741859 C4.42857143,7.49702424 6.64785714,10.8786471 8,12.7130691 C9.35142857,10.8779697 11.5714286,7.49566942 11.5714286,5.741859 C11.5714286,3.87424396 9.96928571,2.35481686 8,2.35481686 Z\",\n    MINUS = \"M 2,7 H 14 V 9 H 2 Z\",\n    PAUSE = \"M8,15 C4.1402,15 1,11.8605 1,8 C1,4.1409 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8605 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M6,5.5 L7.333334,5.5 L7.333334,10.5 L6,10.5 L6,5.5 Z M8.666668,5.5 L10.000002,5.5 L10.000002,10.5 L8.666668,10.5 L8.666668,5.5 Z\",\n    PENCIL = \"M13.8806736,2.11933439 C13.3740067,1.61200081 12.6993397,1.333334 11.9826727,1.333334 C11.2666723,1.333334 10.5920053,1.61200081 10.0853384,2.11933439 L2.47933457,9.72467153 C2.47933457,9.72467153 2.47866791,9.72667153 2.47733457,9.7273382 C2.42333454,9.78200489 2.3313345,9.92600496 2.30333448,10.0346717 L1.35333401,13.8373403 C1.29600065,14.064007 1.36333402,14.3053405 1.52866743,14.4700072 L1.5293341,14.4706739 L1.53000077,14.4713406 C1.69533418,14.636674 1.9353343,14.7040074 2.16266775,14.6473407 L5.96533632,13.6960068 C6.07400304,13.6680068 6.21866978,13.5760068 6.2726698,13.5220068 C6.27333647,13.5213401 6.27533647,13.5200068 6.27533647,13.5200068 L13.8813403,5.91533629 C14.3880072,5.4080027 14.6673407,4.73466903 14.666674,4.01733534 C14.666674,3.30066832 14.3880072,2.62666798 13.8813403,2.11933439 L13.8806736,2.11933439 Z M9.60733814,4.48533558 L11.5160058,6.3940032 L5.8040029,12.1060061 L3.89533528,10.1973384 L9.60733814,4.48533558 Z M2.91666813,13.0840065 L3.31333499,11.5013391 L4.50000225,12.688673 L2.91666813,13.0840065 Z M12.9393398,3.0626682 C13.4486734,3.57266845 13.4486734,4.46200223 12.9393398,4.97200249 L12.4600062,5.45200273 L10.5493386,3.54200177 L11.0300055,3.0626682 C11.5400058,2.55333461 12.4293395,2.55266794 12.9393398,3.0626682 Z\",\n    PLAY = \"M8,15 C4.1402,15 1,11.8605 1,8 C1,4.1409 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8605 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M6.5,10.733336 L6.5,5.4 L10.500002,8.066668 L6.5,10.733336 Z\",\n    PLUS = \"M7,7 L7,2 L9,2 L9,7 L14,7 L14,9 L9,9 L9,14 L7,14 L7,9 L2,9 L2,7 L7,7 Z\",\n    POINTS = \"M 7,1 H 9 V 3 H 7 Z M 7,7 H 9 V 9 H 7 Z m 0,6 h 2 v 2 H 7 Z\",\n    QUESTION = \"M8,15 C4.1402,15 1,11.8605 1,8 C1,4.1409 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8605 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M8.666671,10.000005 L7.333337,10.000005 L7.333337,8.000004 L8.000004,8.000004 C8.73600437,8.000004 9.333338,7.4020037 9.333338,6.66667 C9.333338,5.93066963 8.73600437,5.333336 8.000004,5.333336 C7.26400363,5.333336 6.66667,5.93066963 6.66667,6.66667 L5.333336,6.66667 C5.333336,5.19666927 6.53000326,4.000002 8.000004,4.000002 C9.47000473,4.000002 10.666672,5.19666927 10.666672,6.66667 C10.666672,7.90667062 9.81533824,8.95200448 8.666671,9.25000463 L8.666671,10.000005 Z M8.58927096,10.744072 C8.91470779,11.0695089 8.91470779,11.5971458 8.58927096,11.922586 C8.26383413,12.2480228 7.7361972,12.2480228 7.41075704,11.922586 C7.08532021,11.5971491 7.08532021,11.0695122 7.41075704,10.744072 C7.73619387,10.4186352 8.2638308,10.4186352 8.58927096,10.744072 Z\",\n    REDO = \"M5.05733586,13.1380066 C3.21933494,13.1380066 1.72400086,11.6426725 1.72400086,9.80467157 C1.72400086,7.96667065 3.21933494,6.47133657 5.05733586,6.47133657 L12.1146727,6.47133657 L10.5860053,4.94266914 L11.5286724,4.000002 L14.666674,7.13800357 L11.5286724,10.2760051 L10.5860053,9.333338 L12.1146727,7.80467057 L5.05733586,7.80467057 C3.95466864,7.80467057 3.05733486,8.70200435 3.05733486,9.80467157 C3.05733486,10.9073388 3.95466864,11.8046726 5.05733586,11.8046726 L8.39067086,11.8046726 L8.39067086,13.1380066 L5.05733586,13.1380066 Z\",\n    SETTINGS = \"M12.666673,5.99933633 C11.7986726,5.99933633 11.0660055,5.44066939 10.7900054,4.66600233 L1.333334,4.66600233 L1.333334,3.33266833 L10.7900054,3.33266833 C11.0660055,2.55800128 11.7986726,1.99933433 12.666673,1.99933433 C13.7693402,1.99933433 14.666674,2.89666812 14.666674,3.99933533 C14.666674,5.10200255 13.7693402,5.99933633 12.666673,5.99933633 Z M12.666673,3.33266833 C12.2993395,3.33266833 12.000006,3.63200182 12.000006,3.99933533 C12.000006,4.36800218 12.2993395,4.66600233 12.666673,4.66600233 C13.0340065,4.66600233 13.33334,4.36800218 13.33334,3.99933533 C13.33334,3.63200182 13.0340065,3.33266833 12.666673,3.33266833 Z M6.000003,5.99933633 C6.86800343,5.99933633 7.60067047,6.55800328 7.87667061,7.33267033 L14.666674,7.33267033 L14.666674,8.66600433 L7.87667061,8.66600433 C7.60067047,9.44067139 6.86733677,9.99933833 6.000003,9.99933833 C5.13266923,9.99933833 4.39933553,9.44067139 4.1233354,8.66600433 L1.333334,8.66600433 L1.333334,7.33267033 L4.1233354,7.33267033 C4.39933553,6.55800328 5.13200257,5.99933633 6.000003,5.99933633 Z M6.000003,8.66600433 C6.36733652,8.66600433 6.66667,8.36800418 6.66667,7.99933733 C6.66667,7.63200382 6.36733652,7.33267033 6.000003,7.33267033 C5.63266948,7.33267033 5.333336,7.63200382 5.333336,7.99933733 C5.333336,8.36800418 5.63266948,8.66600433 6.000003,8.66600433 Z M12.666673,9.99933833 C13.7693402,9.99933833 14.666674,10.8966721 14.666674,11.9993393 C14.666674,13.1020066 13.7693402,13.9993403 12.666673,13.9993403 C11.7993392,13.9993403 11.0660055,13.4406734 10.7900054,12.6660063 L1.333334,12.6660063 L1.333334,11.3326723 L10.7900054,11.3326723 C11.0660055,10.5580053 11.7986726,9.99933833 12.666673,9.99933833 Z M12.666673,12.6660063 C13.0340065,12.6660063 13.33334,12.3680062 13.33334,11.9993393 C13.33334,11.6320058 13.0340065,11.3326723 12.666673,11.3326723 C12.2993395,11.3326723 12.000006,11.6320058 12.000006,11.9993393 C12.000006,12.3680062 12.2993395,12.6660063 12.666673,12.6660063 Z\",\n    TICK_CIRCLE_FILL = \"M8,15 C4.1402,15 1,11.8598 1,8 C1,4.1402 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8598 11.8598,15 8,15 Z M7.4113,11.4496 L11.5119,5.7089 L10.0874,4.6918 L7.188,8.7511 L5.8181,7.3819 L4.5812,8.6195 L7.4113,11.4496 Z\",\n    TICK_CIRCLE = \"M8,15 C4.1402,15 1,11.8598 1,8 C1,4.1402 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8598 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M7.4113,11.4496 L4.5812,8.6195 L5.8181,7.3819 L7.188,8.7511 L10.0874,4.6918 L11.5119,5.7089 L7.4113,11.4496 Z\",\n    TICK = \"M 5.3626012,14 1,9.669206 2.5649039,8.115148 5.2873229,10.81717 13.362475,2 15,3.4784647 Z\",\n    TWITTER = \"M15.585592,2.24001476 C14.9910018,2.6160691 14.3323823,2.88920145 13.6314057,3.03641675 C13.0700099,2.39858132 12.2702184,2 11.3851092,2 C9.68550422,2 8.30758258,3.46940291 8.30758258,5.28180108 C8.30758258,5.53901826 8.33485131,5.78950661 8.38730386,6.02969691 C5.82963898,5.89283817 3.56205421,4.58627317 2.04422254,2.60073905 C1.77932624,3.0854495 1.62756502,3.64920919 1.62756502,4.25065038 C1.62756502,5.38922846 2.17090969,6.39375636 2.99665313,6.98226647 C2.49215406,6.96523958 2.01766707,6.81761471 1.60271041,6.57180729 C1.60249095,6.58549901 1.60249095,6.59924925 1.60249095,6.613058 C1.60249095,8.20317043 2.66328322,9.5296294 4.07110721,9.83108139 C3.81284977,9.90609331 3.5409854,9.94617379 3.2602875,9.94617379 C3.06199934,9.94617379 2.86919785,9.9256362 2.68133435,9.88731107 C3.07291781,11.1911845 4.20942609,12.1400094 5.55607374,12.1665151 C4.50285306,13.0467058 3.17590256,13.5713797 1.7341161,13.5713797 C1.48573466,13.5713797 1.24075497,13.5558741 1,13.5255651 C2.36190058,14.4567194 3.97953473,15 5.71743662,15 C11.3779217,15 14.4732799,9.99918534 14.4732799,5.66236081 C14.4732799,5.52006049 14.4703172,5.37852083 14.4643915,5.23780032 C15.0656206,4.77509024 15.5874026,4.19705371 16,3.53891474 C15.4480961,3.79993519 14.59375,4 14.2324701,4.05568958 C14.59375,3.5389148 15.3558104,3.00634176 15.585592,2.24001476 Z\",\n    UNDO = \"m 11.333339,13.138007 c 1.838001,0 3.333335,-1.495334 3.333335,-3.3333354 0,-1.838001 -1.495334,-3.333335 -3.333335,-3.333335 H 4.2760022 L 5.8046696,4.9426691 4.8620025,4.000002 1.7240009,7.1380036 4.8620025,10.276005 5.8046696,9.333338 4.2760022,7.8046706 h 7.0573368 c 1.102667,0 2.000001,0.8973337 2.000001,2.000001 0,1.1026674 -0.897334,2.0000014 -2.000001,2.0000014 H 8.000004 v 1.333334 z\",\n    paths = {\n  ALERT_FILL: ALERT_FILL,\n  ALERT: ALERT,\n  ARROW_DOWN: ARROW_DOWN,\n  ARROW_LEFT: ARROW_LEFT,\n  ARROW_RIGHT: ARROW_RIGHT,\n  ARROW_UP: ARROW_UP,\n  CHEVRON_DOWN: CHEVRON_DOWN,\n  CHEVRON_LEFT: CHEVRON_LEFT,\n  CHEVRON_RIGHT: CHEVRON_RIGHT,\n  CHEVRON_UP: CHEVRON_UP,\n  CLOSE: CLOSE,\n  FACEBOOK: FACEBOOK,\n  HAMBURGER: HAMBURGER,\n  HOME: HOME,\n  INFO: INFO,\n  LINKEDIN: LINKEDIN,\n  MAGNIFY: MAGNIFY,\n  MARKER: MARKER,\n  MINUS: MINUS,\n  PAUSE: PAUSE,\n  PENCIL: PENCIL,\n  PLAY: PLAY,\n  PLUS: PLUS,\n  POINTS: POINTS,\n  QUESTION: QUESTION,\n  REDO: REDO,\n  SETTINGS: SETTINGS,\n  TICK_CIRCLE_FILL: TICK_CIRCLE_FILL,\n  TICK_CIRCLE: TICK_CIRCLE,\n  TICK: TICK,\n  TWITTER: TWITTER,\n  UNDO: UNDO\n};\n\nfunction icon(t, e, n) {\n  void 0 === e && (e = \"#000\");\n  var i = paths[t];\n  return h(\"svg\", Object.assign({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, n), h(\"path\", {\n    fill: e,\n    d: i\n  }));\n}\n\nfunction sameData(t, e) {\n  if (t.length !== e.length) return !1;\n\n  for (var n = 0; n < t.length; n++) if (t[n].start !== e[n].start || t[n].end !== e[n].end || t[n].value !== e[n].value || t[n].color !== e[n].color) return !1;\n\n  return !0;\n}\n\nfunction prepareData$1(t) {\n  var e = t.every(function (t) {\n    return _isDate(t.start) && _isDate(t.end);\n  });\n  return t.map(e ? function (t) {\n    return {\n      color: t.color,\n      end: t.end.getTime(),\n      start: t.start.getTime(),\n      value: t.value\n    };\n  } : function (t) {\n    return {\n      color: t.color,\n      end: t.end,\n      start: t.start,\n      value: t.value\n    };\n  });\n}\n\nfunction _isDate(t) {\n  return \"[object Date]\" === Object.prototype.toString.call(t);\n}\n\nvar SCRUBBER_SIZE = 6,\n    TimeSeriesWidget = function () {\n  function t() {\n    this.showHeader = !0, this.disableInteractivity = !1, this.data = [], this.backgroundData = [], this.color = DEFAULT_BAR_COLOR, this.unselectedColor = DEFAULT_BACKGROUND_BAR_COLOR, this.isLoading = !1, this.error = \"\", this.errorDescription = \"\", this.noDataHeaderMessage = \"NO DATA AVAILABLE\", this.noDataBodyMessage = \"There is no data to display.\", this.responsive = !0, this.progress = 0, this.playing = !1, this.animated = !1, this.timeFormat = \"%x - %X\", this.clearText = \"Clear selection\", this.range = null, this.disableAnimation = !1, this.xAxisOptions = {}, this.yAxisOptions = {}, this.axisFormatter = this.axisFormatter.bind(this);\n  }\n\n  return t.prototype.onDataChanged = function (t, e) {\n    sameData(t, e) || (this._data = prepareData$1(t));\n  }, t.prototype.onBackgroundDataChanged = function (t) {\n    this._backgroundData = prepareData$1(t);\n  }, t.prototype.onProgressChanged = function () {\n    this._render();\n  }, t.prototype.onTimeFormatChanged = function (t) {\n    this._formatter = timeFormat(t), this.histogram.forceUpdate();\n  }, t.prototype.onTimeFormatLocaleChanged = function (t) {\n    try {\n      defaultLocale(t), this.timeFormat && this.onTimeFormatChanged(this.timeFormat);\n    } catch (t) {\n      throw new Error(\"Invalid time format.\");\n    }\n  }, t.prototype.defaultFormatter = function (t) {\n    return this.histogram.defaultFormatter(t);\n  }, t.prototype.getSelection = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (t) {\n        return [2, this.histogram.getSelection()];\n      });\n    });\n  }, t.prototype.setSelection = function (t) {\n    this.histogram.setSelection(t);\n  }, t.prototype.clearSelection = function () {\n    this.histogram.clearSelection();\n  }, t.prototype.xFormatter = function (t) {\n    return this.histogram.xFormatter(t);\n  }, t.prototype.componentWillLoad = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (t) {\n        return this.onDataChanged(this.data, []), this.onBackgroundDataChanged(this.backgroundData), [2];\n      });\n    });\n  }, t.prototype.componentDidLoad = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var t,\n          e = this;\n      return tslib_1.__generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return this.timeFormatLocale && defaultLocale(this.timeFormatLocale), this._formatter = timeFormat(this.timeFormat), this.histogram.addEventListener(\"selectionInput\", function (t) {\n              e._selection = null === t.detail ? null : t.detail.selection, e._render();\n            }), this.histogram.addEventListener(\"selectionChanged\", function (t) {\n              if (t.stopPropagation(), null !== t.detail) {\n                var n = t.detail.selection.map(function (t) {\n                  return new Date(t);\n                });\n                e.selectionChanged.emit(n), e._render();\n              } else e.selectionChanged.emit(null);\n            }), this.histogram.addEventListener(\"drawParametersChanged\", function (t) {\n              e._renderOptions = t.detail, e._render();\n            }), t = this, [4, this.histogram.getSelection()];\n\n          case 1:\n            return t._selection = n.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.render = function () {\n    var t = this;\n    return [this._renderButton(), h(\"as-histogram-widget\", {\n      ref: function (e) {\n        t.histogram = e;\n      },\n      heading: this.heading,\n      description: this.description,\n      showHeader: this.showHeader,\n      showClear: this.showClear,\n      disableInteractivity: this.disableInteractivity,\n      data: this._data,\n      backgroundData: this._backgroundData,\n      color: this.color,\n      unselectedColor: this.unselectedColor,\n      colorRange: this.colorRange,\n      axisFormatter: this.axisFormatter,\n      tooltipFormatter: this.tooltipFormatter,\n      xLabel: this.xLabel,\n      yLabel: this.yLabel,\n      isLoading: this.isLoading,\n      error: this.error,\n      errorDescription: this.errorDescription,\n      noDataHeaderMessage: this.noDataHeaderMessage,\n      noDataBodyMessage: this.noDataBodyMessage,\n      responsive: this.responsive,\n      clearText: this.clearText,\n      range: this.range,\n      disableAnimation: this.disableAnimation,\n      xAxisOptions: this.xAxisOptions,\n      yAxisOptions: this.yAxisOptions\n    })];\n  }, t.prototype.axisFormatter = function (t) {\n    return this._formatter(new Date(t));\n  }, t.prototype._renderButton = function () {\n    return this.animated ? h(\"div\", {\n      class: {\n        \"as-time-series--play-button\": !0,\n        \"as-time-series--play-button-hidden\": !this.data.length || this.isLoading || !!this.error,\n        \"as-time-series--play-button-x-label\": !!this.xLabel\n      },\n      onClick: this._playPauseClick.bind(this)\n    }, icon(this.playing ? \"PAUSE\" : \"PLAY\", \"var(--as--color--primary)\", {\n      width: \"32px\",\n      height: \"32px\"\n    })) : null;\n  }, t.prototype._playPauseClick = function () {\n    this.playing ? this.pause.emit() : this.play.emit();\n  }, t.prototype._render = function () {\n    var t = this;\n\n    if (this._renderOptions) {\n      var e = this._renderOptions,\n          n = e.container,\n          i = e.height,\n          a = e.width,\n          r = e.padding,\n          o = e.xScale,\n          s = e.binsScale,\n          l = e.handleWidth,\n          c = n.select(\".as-time-series--g\");\n\n      if (this.animated) {\n        var h = n.node().getBoundingClientRect().left,\n            u = r[0],\n            d = r[1],\n            p = linear().domain([0, 100]),\n            m = 0;\n\n        if (this._selection) {\n          var g = this._selection.map(function (t) {\n            return o(s(t));\n          });\n\n          p.range([g[0] + (m = l / 2) + SCRUBBER_SIZE / 2, g[1] - m - SCRUBBER_SIZE / 2]);\n        } else p.range([0, a - u]);\n\n        var C = p(this.progress);\n        n.on(\"click\", function () {\n          var e = Math.round(p.invert(event.clientX - h - u + 8));\n          e > 100 || e < 0 || t.seek.emit(e);\n        }), c.empty() && ((c = n.append(\"g\").attr(\"class\", \"as-time-series--g\")).append(\"line\").attr(\"class\", \"as-time-series--preview\").attr(\"stroke-width\", 4).attr(\"stroke\", \"gray\").attr(\"opacity\", \"0\"), c.append(\"line\").attr(\"class\", \"as-time-series--line\").attr(\"stroke-width\", 4), c.append(\"circle\").attr(\"class\", \"as-time-series--scrubber\").attr(\"r\", SCRUBBER_SIZE).attr(\"stroke-width\", 0), c.append(\"line\").attr(\"class\", \"as-time-series--track\").attr(\"stroke-width\", 16).attr(\"stroke\", \"black\").attr(\"opacity\", \"0\").on(\"mouseleave\", function () {\n          t._lastMousePosition = -1, c.select(\".as-time-series--preview\").attr(\"opacity\", \"0\");\n        })), c.select(\".as-time-series--line\").attr(\"x1\", p(0) - SCRUBBER_SIZE / 2).attr(\"x2\", C).attr(\"y1\", i - d).attr(\"y2\", i - d), c.select(\".as-time-series--track\").attr(\"y1\", i - d).attr(\"y2\", i - d).attr(\"x1\", p(0) + m).attr(\"x2\", p(100) - m).on(\"mousemove\", function () {\n          t._lastMousePosition = event.clientX - h - u + 8, t._lastMousePosition > p(t.progress) && c.select(\".as-time-series--preview\").attr(\"x2\", t._lastMousePosition).attr(\"opacity\", \"1\");\n        }), c.select(\".as-time-series--preview\").attr(\"x1\", C - SCRUBBER_SIZE / 2).attr(\"y1\", i - d).attr(\"y2\", i - d).attr(\"opacity\", function () {\n          return t._lastMousePosition > C ? \"1\" : \"0\";\n        }), c.select(\".as-time-series--scrubber\").attr(\"transform\", \"translate(\" + (C - SCRUBBER_SIZE / 2) + \",\" + (i - d) + \")\");\n      } else c.empty() || c.remove();\n    }\n  }, Object.defineProperty(t, \"is\", {\n    get: function () {\n      return \"as-time-series-widget\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"properties\", {\n    get: function () {\n      return {\n        animated: {\n          type: Boolean,\n          attr: \"animated\",\n          reflectToAttr: !0\n        },\n        backgroundData: {\n          type: \"Any\",\n          attr: \"background-data\",\n          watchCallbacks: [\"onBackgroundDataChanged\"]\n        },\n        clearSelection: {\n          method: !0\n        },\n        clearText: {\n          type: String,\n          attr: \"clear-text\"\n        },\n        color: {\n          type: String,\n          attr: \"color\"\n        },\n        colorRange: {\n          type: \"Any\",\n          attr: \"color-range\"\n        },\n        data: {\n          type: \"Any\",\n          attr: \"data\",\n          watchCallbacks: [\"onDataChanged\"]\n        },\n        defaultFormatter: {\n          method: !0\n        },\n        description: {\n          type: String,\n          attr: \"description\"\n        },\n        disableAnimation: {\n          type: Boolean,\n          attr: \"disable-animation\"\n        },\n        disableInteractivity: {\n          type: Boolean,\n          attr: \"disable-interactivity\"\n        },\n        error: {\n          type: String,\n          attr: \"error\"\n        },\n        errorDescription: {\n          type: String,\n          attr: \"error-description\"\n        },\n        getSelection: {\n          method: !0\n        },\n        heading: {\n          type: String,\n          attr: \"heading\"\n        },\n        isLoading: {\n          type: Boolean,\n          attr: \"is-loading\"\n        },\n        noDataBodyMessage: {\n          type: String,\n          attr: \"no-data-body-message\"\n        },\n        noDataHeaderMessage: {\n          type: String,\n          attr: \"no-data-header-message\"\n        },\n        playing: {\n          type: Boolean,\n          attr: \"playing\"\n        },\n        progress: {\n          type: Number,\n          attr: \"progress\",\n          watchCallbacks: [\"onProgressChanged\"]\n        },\n        range: {\n          type: \"Any\",\n          attr: \"range\"\n        },\n        responsive: {\n          type: Boolean,\n          attr: \"responsive\"\n        },\n        setSelection: {\n          method: !0\n        },\n        showClear: {\n          type: Boolean,\n          attr: \"show-clear\"\n        },\n        showHeader: {\n          type: Boolean,\n          attr: \"show-header\"\n        },\n        timeFormat: {\n          type: String,\n          attr: \"time-format\",\n          watchCallbacks: [\"onTimeFormatChanged\"]\n        },\n        timeFormatLocale: {\n          type: \"Any\",\n          attr: \"time-format-locale\",\n          watchCallbacks: [\"onTimeFormatLocaleChanged\"]\n        },\n        tooltipFormatter: {\n          type: \"Any\",\n          attr: \"tooltip-formatter\"\n        },\n        unselectedColor: {\n          type: String,\n          attr: \"unselected-color\"\n        },\n        xAxisOptions: {\n          type: \"Any\",\n          attr: \"x-axis-options\"\n        },\n        xFormatter: {\n          method: !0\n        },\n        xLabel: {\n          type: String,\n          attr: \"x-label\"\n        },\n        yAxisOptions: {\n          type: \"Any\",\n          attr: \"y-axis-options\"\n        },\n        yLabel: {\n          type: String,\n          attr: \"y-label\"\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"events\", {\n    get: function () {\n      return [{\n        name: \"play\",\n        method: \"play\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }, {\n        name: \"pause\",\n        method: \"pause\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }, {\n        name: \"selectionChanged\",\n        method: \"selectionChanged\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }, {\n        name: \"seek\",\n        method: \"seek\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t, \"style\", {\n    get: function () {\n      return \"as-time-series-widget{--as--time-series--line-color:var(--as--color--primary,#1785fb);--as-histogram-widget--background-color:var(--as--color--ui-01);display:-ms-flexbox;display:flex;-ms-flex-align:end;align-items:flex-end;height:100%;background:var(--as-histogram-widget--background-color,#fff)}as-time-series-widget as-histogram-widget{overflow:unset}as-time-series-widget as-histogram-widget .content,as-time-series-widget as-histogram-widget as-widget-header,as-time-series-widget as-histogram-widget as-widget-selection{margin-left:-32px}as-time-series-widget .as-time-series--play-button{margin-bottom:2px;cursor:pointer}as-time-series-widget .as-time-series--play-button-hidden{opacity:0}as-time-series-widget .as-time-series--play-button-x-label{margin-bottom:27px}as-time-series-widget .as-time-series--line,as-time-series-widget .as-time-series--scrubber{stroke:var(--as--time-series--line-color);fill:var(--as--time-series--line-color)}as-time-series-widget .as-time-series--line,as-time-series-widget .as-time-series--scrubber,as-time-series-widget .as-time-series--track{cursor:pointer}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t;\n}();\n\nexport { HistogramWidget as AsHistogramWidget, TimeSeriesWidget as AsTimeSeriesWidget };","map":null,"metadata":{},"sourceType":"module"}