{"version":3,"sources":["../node_modules/@carto/airship-components/dist/esm/es5/build/chunk-512e386e.js","../node_modules/@carto/airship-components/dist/esm/es5/build/ujs6osbl.entry.js"],"names":["borderStyleCounts","n","indexOf","LegendColorCategory","e","prototype","render","this","data","length","t","orientation","style","getStyle","class","map","renderLegend","filter","type","label","width","color","strokeColor","marker","strokeStyle","slice","sort","Math","max","Object","defineProperty","get","enumerable","configurable","attr","String","Number","LegendCategoryLineEntry","componentWillLoad","_widthChanged","_width","min","borderTopColor","borderTopStyle","borderTopWidth","state","watchCallbacks","DEFAULT_WIDTH","LegendCategoryPointEntry","assign","backgroundColor","border","FAKE_BORDER_SIZE","getWidth","getMask","height","maskImage","maskPosition","maskRepeat","maskSize","LegendColorCategoryPolygonEntry"],"mappings":"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","file":"static/js/16.a8b940af.chunk.js","sourcesContent":["function borderStyleCounts(n) {\n  return -1 === [\"none\", \"initial\", \"inherit\", \"hidden\", \"unset\"].indexOf(n);\n}\n\nexport { borderStyleCounts as a };","import { h } from \"../airship.core.js\";\nimport { a as borderStyleCounts } from \"./chunk-512e386e.js\";\n\nvar MIN_WIDTH = 16,\n    LegendColorCategory = function () {\n  function e() {}\n\n  return e.prototype.render = function () {\n    var e = this;\n    if (!this.data || 0 === this.data.length) return null;\n    var t = {\n      \"as-legend-category--wrapper\": !0,\n      \"as-legend-category--wrapper-horizontal\": \"horizontal\" === this.orientation\n    };\n    return h(\"div\", {\n      style: this.getStyle(),\n      class: t\n    }, this.data.map(function (t) {\n      return e.renderLegend(t);\n    }).filter(function (e) {\n      return null !== e;\n    }).map(function (e) {\n      return h(\"div\", {\n        class: \"as-legend-category--entry\"\n      }, e);\n    }));\n  }, e.prototype.renderLegend = function (e) {\n    switch (e.type) {\n      case \"point\":\n        return h(\"as-legend-category-point-entry\", {\n          label: e.label,\n          width: this.width || e.width,\n          color: e.color,\n          strokeColor: e.strokeColor,\n          marker: e.marker,\n          strokeStyle: e.strokeStyle\n        });\n\n      case \"line\":\n        return h(\"as-legend-category-line-entry\", {\n          label: e.label,\n          width: e.width,\n          color: e.color,\n          strokeStyle: e.strokeStyle\n        });\n\n      case \"polygon\":\n        return h(\"as-legend-category-polygon-entry\", {\n          label: e.label,\n          color: e.color,\n          strokeColor: e.strokeColor,\n          strokeStyle: e.strokeStyle\n        });\n\n      default:\n        return null;\n    }\n  }, e.prototype.getStyle = function () {\n    var e = this.data.slice().sort(function (e, t) {\n      return t.width - e.width;\n    })[0].width;\n    return {\n      \"--as--basic--legend--figure-width\": (this.width || Math.max(e, MIN_WIDTH)) + \"px\"\n    };\n  }, Object.defineProperty(e, \"is\", {\n    get: function get() {\n      return \"as-legend-category\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"properties\", {\n    get: function get() {\n      return {\n        data: {\n          type: \"Any\",\n          attr: \"data\"\n        },\n        orientation: {\n          type: String,\n          attr: \"orientation\"\n        },\n        width: {\n          type: Number,\n          attr: \"width\"\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"style\", {\n    get: function get() {\n      return \"as-legend-category{--as--basic--legend--font:var(--as--font--caption);--as--basic--legend--text-transform:capitalize;display:block}as-legend-category .as-legend-category--wrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:wrap;flex-wrap:wrap}as-legend-category .as-legend-category--label{font:var(--as--basic--legend--font);text-transform:var(--as--basic--legend--text-transform)}as-legend-category .as-legend-category--figure--wrapper{width:var(--as--basic--legend--figure-width);margin-right:8px}as-legend-category .as-legend-category--wrapper-horizontal>.as-legend-category--entry{margin-right:12px}as-legend-category .as-legend-category--wrapper:not(.as-legend-category--wrapper-horizontal)>.as-legend-category--entry:not(:first-child){margin-top:12px}as-legend-category .as-legend-category--wrapper-horizontal{-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e;\n}(),\n    MAX_WIDTH = 16,\n    LegendCategoryLineEntry = function () {\n  function e() {\n    this.strokeStyle = \"solid\", this.width = 1.5;\n  }\n\n  return e.prototype.componentWillLoad = function () {\n    this._widthChanged(this.width);\n  }, e.prototype.render = function () {\n    return h(\"div\", {\n      class: \"as-legend-category-line-entry--wrapper\"\n    }, h(\"div\", {\n      class: \"as-legend-category--figure--wrapper\"\n    }, h(\"div\", {\n      class: \"as-legend-category-line-entry--line\",\n      style: this.getStyle()\n    })), h(\"span\", {\n      class: \"as-legend-category--label\"\n    }, this.label));\n  }, e.prototype._widthChanged = function (e) {\n    this._width = Math.min(MAX_WIDTH, e);\n  }, e.prototype.getStyle = function () {\n    return {\n      borderTopColor: this.color,\n      borderTopStyle: this.strokeStyle,\n      borderTopWidth: \"\" + this._width\n    };\n  }, Object.defineProperty(e, \"is\", {\n    get: function get() {\n      return \"as-legend-category-line-entry\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"properties\", {\n    get: function get() {\n      return {\n        _width: {\n          state: !0\n        },\n        color: {\n          type: String,\n          attr: \"color\"\n        },\n        label: {\n          type: String,\n          attr: \"label\"\n        },\n        strokeStyle: {\n          type: String,\n          attr: \"stroke-style\"\n        },\n        width: {\n          type: Number,\n          attr: \"width\",\n          watchCallbacks: [\"_widthChanged\"]\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"style\", {\n    get: function get() {\n      return \"as-legend-category-line-entry .as-legend-category-line-entry--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-category-line-entry .as-legend-category-line-entry--line{width:16px;height:0;margin:auto}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e;\n}(),\n    FAKE_BORDER_SIZE = 1,\n    DEFAULT_WIDTH = 16,\n    SYMBOL_OFFSET = 2,\n    LegendCategoryPointEntry = function () {\n  function e() {\n    this.width = DEFAULT_WIDTH;\n  }\n\n  return e.prototype.render = function () {\n    return h(\"div\", {\n      class: \"as-legend-category-point-entry--wrapper\"\n    }, h(\"div\", {\n      class: \"as-legend-category--figure--wrapper\"\n    }, h(\"div\", {\n      class: {\n        \"as-legend-category-point-entry--point\": !this.marker,\n        \"as-legend-category-point-entry--symbol\": !0\n      },\n      style: this.getStyle()\n    })), h(\"span\", {\n      class: \"as-legend-category--label\"\n    }, this.label));\n  }, e.prototype.getStyle = function () {\n    return Object.assign({\n      backgroundColor: this.color,\n      border: FAKE_BORDER_SIZE + \"px \" + (this.strokeStyle || \"solid\") + \" \" + this.strokeColor\n    }, this.getWidth(), this.getMask());\n  }, e.prototype.getWidth = function () {\n    if (!this.width) return {};\n    var e = borderStyleCounts(this.strokeStyle) ? 2 * FAKE_BORDER_SIZE : 0;\n    return this.marker && (e += SYMBOL_OFFSET), {\n      height: this.width + e + \"px\",\n      width: this.width + e + \"px\"\n    };\n  }, e.prototype.getMask = function () {\n    return this.marker ? {\n      \"-webkit-mask-image\": \"url(\" + this.marker + \")\",\n      \"-webkit-mask-position\": \"center\",\n      \"-webkit-mask-repeat\": \"no-repeat\",\n      \"-webkit-mask-size\": this.width + \"px\",\n      maskImage: \"url(\" + this.marker + \")\",\n      maskPosition: \"center\",\n      maskRepeat: \"no-repeat\",\n      maskSize: this.width + \"px\"\n    } : {};\n  }, Object.defineProperty(e, \"is\", {\n    get: function get() {\n      return \"as-legend-category-point-entry\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"properties\", {\n    get: function get() {\n      return {\n        color: {\n          type: String,\n          attr: \"color\"\n        },\n        label: {\n          type: String,\n          attr: \"label\"\n        },\n        marker: {\n          type: String,\n          attr: \"marker\"\n        },\n        strokeColor: {\n          type: String,\n          attr: \"stroke-color\"\n        },\n        strokeStyle: {\n          type: String,\n          attr: \"stroke-style\"\n        },\n        width: {\n          type: Number,\n          attr: \"width\"\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"style\", {\n    get: function get() {\n      return \"as-legend-category-point-entry .as-legend-category-point-entry--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-category-point-entry .as-legend-category-point-entry--symbol{width:100%;height:auto;margin:auto}as-legend-category-point-entry .as-legend-category-point-entry--point{border-radius:50%}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e;\n}(),\n    LegendColorCategoryPolygonEntry = function () {\n  function e() {}\n\n  return e.prototype.render = function () {\n    return h(\"div\", {\n      class: \"as-legend-category-polygon-entry--wrapper\"\n    }, h(\"div\", {\n      class: \"as-legend-category--figure--wrapper\"\n    }, h(\"div\", {\n      class: \"as-legend-category-polygon-entry--box\",\n      style: this.getStyle()\n    })), h(\"span\", {\n      class: \"as-legend-category--label\"\n    }, this.label));\n  }, e.prototype.getStyle = function () {\n    return {\n      backgroundColor: this.color,\n      border: \"1px \" + (this.strokeStyle || \"solid\") + \" \" + this.strokeColor\n    };\n  }, Object.defineProperty(e, \"is\", {\n    get: function get() {\n      return \"as-legend-category-polygon-entry\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"properties\", {\n    get: function get() {\n      return {\n        color: {\n          type: String,\n          attr: \"color\"\n        },\n        label: {\n          type: String,\n          attr: \"label\"\n        },\n        strokeColor: {\n          type: String,\n          attr: \"stroke-color\"\n        },\n        strokeStyle: {\n          type: String,\n          attr: \"stroke-style\"\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"style\", {\n    get: function get() {\n      return \"as-legend-category-polygon-entry .as-legend-category-polygon-entry--wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}as-legend-category-polygon-entry .as-legend-category-polygon-entry--box{width:16px;height:12px;margin:auto}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e;\n}();\n\nexport { LegendColorCategory as AsLegendCategory, LegendCategoryLineEntry as AsLegendCategoryLineEntry, LegendCategoryPointEntry as AsLegendCategoryPointEntry, LegendColorCategoryPolygonEntry as AsLegendCategoryPolygonEntry };"],"sourceRoot":""}