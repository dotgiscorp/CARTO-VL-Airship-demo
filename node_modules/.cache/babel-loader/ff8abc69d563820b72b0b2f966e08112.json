{"ast":null,"code":"import * as tslib_1 from \"../polyfills/tslib.js\";\nimport { h } from \"../airship.core.js\";\nimport { a as redrawChildren } from \"./chunk-b0e1ce66.js\";\n\nvar ApplicationSection = function () {\n  function e(e) {\n    var t = e.activeClass,\n        n = e.element,\n        r = e.name,\n        i = e.order,\n        o = e.type;\n    this._active = !1, this._activeClass = t, this._element = n, this._name = r, this._order = i, this._type = o;\n  }\n\n  return Object.defineProperty(e.prototype, \"active\", {\n    get: function () {\n      return this._active;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e.prototype, \"activeClass\", {\n    get: function () {\n      return this._activeClass;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e.prototype, \"element\", {\n    get: function () {\n      return this._element;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e.prototype, \"name\", {\n    get: function () {\n      return this._name;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e.prototype, \"order\", {\n    get: function () {\n      return this._order;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e.prototype, \"type\", {\n    get: function () {\n      return this._type;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e.prototype.enable = function () {\n    this.element.classList.add(this._activeClass), this._active = !0;\n  }, e.prototype.disable = function () {\n    this.element.classList.remove(this._activeClass), this._active = !1;\n  }, e;\n}();\n\nfunction getMap(e) {\n  var t = e.querySelector(\".as-map-area\");\n  return t ? new ApplicationSection({\n    activeClass: \"as-map-area--visible\",\n    element: t,\n    name: t.getAttribute(\"data-name\") || \"Map\",\n    order: t.getAttribute(\"data-tab-order\") || 0,\n    type: \"map\"\n  }) : null;\n}\n\nfunction getSidebars(e) {\n  return Array.from(e.querySelectorAll(\".as-sidebar\")).map(_getSidebar);\n}\n\nfunction _getSidebar(e, t) {\n  return new ApplicationSection({\n    activeClass: \"as-sidebar--visible\",\n    element: e,\n    name: e.getAttribute(\"data-name\") || \"Sidebar \" + t,\n    order: e.getAttribute(\"data-tab-order\") || 0,\n    type: \"sidebar\"\n  });\n}\n\nfunction getPanels(e) {\n  return Array.from(e.querySelectorAll(\".as-map-panels\")).map(_getPanel);\n}\n\nfunction _getPanel(e, t) {\n  return new ApplicationSection({\n    activeClass: \"as-map-panels--visible\",\n    element: e,\n    name: e.getAttribute(\"data-name\") || \"Panel \" + t,\n    order: e.getAttribute(\"data-tab-order\") || 0,\n    type: \"panels\"\n  });\n}\n\nfunction getFooter(e) {\n  var t = e.querySelector(\".as-map-footer\");\n  return t ? new ApplicationSection({\n    activeClass: \"as-map-footer--visible\",\n    element: t,\n    name: t.getAttribute(\"data-name\") || \"Bottom Bar\",\n    order: t.getAttribute(\"data-tab-order\") || 0,\n    type: \"mapFooter\"\n  }) : null;\n}\n\nvar contentService = {\n  getFooter: getFooter,\n  getMap: getMap,\n  getPanels: getPanels,\n  getSidebars: getSidebars\n},\n    ResponsiveContent = function () {\n  function e() {\n    this.sections = [];\n  }\n\n  return e.prototype.componentWillLoad = function () {\n    this.sections = this.getContentSections();\n  }, e.prototype.componentDidLoad = function () {\n    this.ready.emit();\n  }, e.prototype.getSections = function () {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (e) {\n        return [2, this.sections];\n      });\n    });\n  }, e.prototype.setVisible = function (e) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var t;\n      return tslib_1.__generator(this, function (n) {\n        return (t = this.sections.find(function (t) {\n          return t.name === e;\n        })) && this.setActive(t), [2];\n      });\n    });\n  }, e.prototype.render = function () {\n    return [this._renderTabs(), this._renderContent()];\n  }, e.prototype._renderTabs = function () {\n    var e = this,\n        t = this.sections.map(function (t, n) {\n      if (t.element) return h(\"button\", {\n        onClick: function () {\n          return e.setActive(t);\n        },\n        role: \"tab\",\n        class: {\n          \"as-tabs__item\": !0,\n          \"as-tabs__item--active\": t.active\n        }\n      }, t.name || n);\n    });\n    return h(\"div\", {\n      role: \"tablist\",\n      class: \"as-toolbar-tabs as-tabs as-tabs--xl\"\n    }, t);\n  }, e.prototype._renderContent = function () {\n    return h(\"section\", {\n      class: \"as-content\"\n    }, h(\"slot\", null));\n  }, e.prototype.setActive = function (e, t) {\n    void 0 === t && (t = !0), e.active || (this.disableActiveSection(), e.enable(), t && redrawChildren(e.element), this.activeSection = e, this.sections = this.sections.slice(), this.sectionChange.emit(e));\n  }, e.prototype.disableActiveSection = function () {\n    this.activeSection && this.activeSection.disable();\n  }, e.prototype.getContentSections = function () {\n    var e = [contentService.getMap(this.element)].concat(contentService.getSidebars(this.element), contentService.getPanels(this.element), [contentService.getFooter(this.element)]).filter(function (e) {\n      return null !== e;\n    });\n    return e.length && (e.sort(function (e, t) {\n      return e.order - t.order;\n    }), this.setActive(e[0], !1)), e;\n  }, Object.defineProperty(e, \"is\", {\n    get: function () {\n      return \"as-responsive-content\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"properties\", {\n    get: function () {\n      return {\n        element: {\n          elementRef: !0\n        },\n        getSections: {\n          method: !0\n        },\n        sections: {\n          state: !0\n        },\n        setVisible: {\n          method: !0\n        }\n      };\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"events\", {\n    get: function () {\n      return [{\n        name: \"ready\",\n        method: \"ready\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }, {\n        name: \"sectionChange\",\n        method: \"sectionChange\",\n        bubbles: !0,\n        cancelable: !0,\n        composed: !0\n      }];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e, \"style\", {\n    get: function () {\n      return \"as-responsive-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;min-height:0}\";\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e;\n}();\n\nexport { ResponsiveContent as AsResponsiveContent };","map":null,"metadata":{},"sourceType":"module"}